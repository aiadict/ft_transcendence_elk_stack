Attaching to elk-certs, elk-elasticsearch, elk-kbn-setup, elk-kibana, elk-loggen-json, elk-logstash, elk-setup, elk-snap-perms
elk-certs  | ==> Generating CA...
elk-setup  | >> Waiting for Elasticsearch over HTTPS...
elk-setup  | + set -eu
elk-setup  | + ES_URL=https://elasticsearch:9200
elk-setup  | + CA_CERT=/certs/ca/ca.crt
elk-setup  | + : 1_Kibana
elk-setup  | + : 1_Kibana
elk-setup  | + : passwordforLogstash
elk-setup  | + : logstash_writer
elk-setup  | + : 1_Kibana
elk-setup  | + echo '>> Waiting for Elasticsearch over HTTPS...'
elk-setup  | + i=0
elk-setup  | + :
elk-setup  | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup  | + i=1
elk-setup  | + '[' 1 -ge 120 ]
elk-setup  | + sleep 2
elk-snap-perms  | + install -d -o 1000 -g 0 -m 0775 /snapshots
[Kelk-snap-perms exited with code 0
elk-certs       | ==> Extracting CA...
elk-certs       | ==> Writing instances.yml...
elk-certs       | ==> Generating node certificates signed by our CA...
elk-setup       | + :
elk-setup       | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup       | + i=2
elk-setup       | + '[' 2 -ge 120 ]
elk-setup       | + sleep 2
elk-certs       | ==> Extracting service certificates...
elk-setup       | + :
elk-setup       | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-certs       | ==> Adjusting permissions...
elk-certs       | ==> Done.
elk-setup       | + i=3
elk-setup       | + '[' 3 -ge 120 ]
elk-setup       | + sleep 2
[Kelk-certs exited with code 0
elk-setup       | + :
elk-setup       | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup       | + i=4
elk-setup       | + '[' 4 -ge 120 ]
elk-setup       | + sleep 2
elk-setup       | + :
elk-setup       | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup       | + i=5
elk-setup       | + '[' 5 -ge 120 ]
elk-setup       | + sleep 2
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:19.674Z", "log.level": "INFO", "message":"Java vector incubator API enabled; uses preferredBitSize=512", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.apache.lucene.util.VectorUtilPanamaProvider","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:20.313Z", "log.level": "INFO", "message":"version[8.9.0], pid[121], build[docker/8aa461beb06aa0417a231c345a1b8c38fb498a0d/2023-07-19T14:43:58.555259655Z], OS[Linux/6.10.14-linuxkit/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit Server VM/20.0.2/20.0.2+9-78]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.node.Node","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:20.314Z", "log.level": "INFO", "message":"JVM home [/usr/share/elasticsearch/jdk], using bundled JDK [true]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.node.Node","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:20.314Z", "log.level": "INFO", "message":"JVM arguments [-Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -Djava.security.manager=allow, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Dlog4j2.formatMsgNoLookups=true, -Djava.locale.providers=SPI,COMPAT, --add-opens=java.base/java.io=org.elasticsearch.preallocate, -Des.cgroups.hierarchy.override=/, -XX:+UseG1GC, -Djava.io.tmpdir=/tmp/elasticsearch-4653444289105508593, --add-modules=jdk.incubator.vector, -XX:+HeapDumpOnOutOfMemoryError, -XX:+ExitOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,level,pid,tags:filecount=32,filesize=64m, -Xms1g, -Xmx1g, -XX:MaxDirectMemorySize=536870912, -XX:G1HeapRegionSize=4m, -XX:InitiatingHeapOccupancyPercent=30, -XX:G1ReservePercent=15, -Des.distribution.type=docker, --module-path=/usr/share/elasticsearch/lib, --add-modules=jdk.net, --add-modules=org.elasticsearch.preallocate, -Djdk.module.main=org.elasticsearch.server]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.node.Node","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + :
elk-setup          | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup          | + i=6
elk-setup          | + '[' 6 -ge 120 ]
elk-setup          | + sleep 2
elk-setup          | + :
elk-setup          | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup          | + i=7
elk-setup          | + '[' 7 -ge 120 ]
elk-setup          | + sleep 2
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.108Z", "log.level": "INFO", "message":"loaded module [repository-url]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.109Z", "log.level": "INFO", "message":"loaded module [rest-root]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.109Z", "log.level": "INFO", "message":"loaded module [dlm]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.109Z", "log.level": "INFO", "message":"loaded module [x-pack-core]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.110Z", "log.level": "INFO", "message":"loaded module [x-pack-redact]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.110Z", "log.level": "INFO", "message":"loaded module [ingest-user-agent]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.111Z", "log.level": "INFO", "message":"loaded module [x-pack-async-search]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.111Z", "log.level": "INFO", "message":"loaded module [x-pack-monitoring]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.112Z", "log.level": "INFO", "message":"loaded module [repository-s3]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.112Z", "log.level": "INFO", "message":"loaded module [x-pack-analytics]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.112Z", "log.level": "INFO", "message":"loaded module [x-pack-ent-search]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.112Z", "log.level": "INFO", "message":"loaded module [x-pack-autoscaling]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.113Z", "log.level": "INFO", "message":"loaded module [lang-painless]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.113Z", "log.level": "INFO", "message":"loaded module [x-pack-ml]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.113Z", "log.level": "INFO", "message":"loaded module [legacy-geo]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.113Z", "log.level": "INFO", "message":"loaded module [lang-mustache]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.114Z", "log.level": "INFO", "message":"loaded module [x-pack-ql]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.114Z", "log.level": "INFO", "message":"loaded module [rank-rrf]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.114Z", "log.level": "INFO", "message":"loaded module [analysis-common]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.115Z", "log.level": "INFO", "message":"loaded module [transport-netty4]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.115Z", "log.level": "INFO", "message":"loaded module [aggregations]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.115Z", "log.level": "INFO", "message":"loaded module [ingest-common]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.115Z", "log.level": "INFO", "message":"loaded module [frozen-indices]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.115Z", "log.level": "INFO", "message":"loaded module [x-pack-identity-provider]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.116Z", "log.level": "INFO", "message":"loaded module [x-pack-shutdown]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.116Z", "log.level": "INFO", "message":"loaded module [x-pack-text-structure]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.116Z", "log.level": "INFO", "message":"loaded module [snapshot-repo-test-kit]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.116Z", "log.level": "INFO", "message":"loaded module [ml-package-loader]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.117Z", "log.level": "INFO", "message":"loaded module [kibana]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.117Z", "log.level": "INFO", "message":"loaded module [constant-keyword]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.118Z", "log.level": "INFO", "message":"loaded module [x-pack-logstash]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.118Z", "log.level": "INFO", "message":"loaded module [x-pack-ccr]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.118Z", "log.level": "INFO", "message":"loaded module [x-pack-graph]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.119Z", "log.level": "INFO", "message":"loaded module [parent-join]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.119Z", "log.level": "INFO", "message":"loaded module [x-pack-enrich]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.119Z", "log.level": "INFO", "message":"loaded module [repositories-metering-api]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.119Z", "log.level": "INFO", "message":"loaded module [transform]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.120Z", "log.level": "INFO", "message":"loaded module [repository-azure]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.120Z", "log.level": "INFO", "message":"loaded module [repository-gcs]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.120Z", "log.level": "INFO", "message":"loaded module [spatial]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.120Z", "log.level": "INFO", "message":"loaded module [mapper-version]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.121Z", "log.level": "INFO", "message":"loaded module [mapper-extras]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.121Z", "log.level": "INFO", "message":"loaded module [apm]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.122Z", "log.level": "INFO", "message":"loaded module [x-pack-aggregate-metric]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.122Z", "log.level": "INFO", "message":"loaded module [x-pack-rollup]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.122Z", "log.level": "INFO", "message":"loaded module [percolator]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.122Z", "log.level": "INFO", "message":"loaded module [x-pack-stack]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.123Z", "log.level": "INFO", "message":"loaded module [data-streams]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.123Z", "log.level": "INFO", "message":"loaded module [rank-eval]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.123Z", "log.level": "INFO", "message":"loaded module [reindex]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.124Z", "log.level": "INFO", "message":"loaded module [x-pack-security]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.124Z", "log.level": "INFO", "message":"loaded module [blob-cache]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.124Z", "log.level": "INFO", "message":"loaded module [searchable-snapshots]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.125Z", "log.level": "INFO", "message":"loaded module [snapshot-based-recoveries]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.125Z", "log.level": "INFO", "message":"loaded module [x-pack-watcher]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.126Z", "log.level": "INFO", "message":"loaded module [old-lucene-versions]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.126Z", "log.level": "INFO", "message":"loaded module [x-pack-ilm]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.127Z", "log.level": "INFO", "message":"loaded module [x-pack-voting-only-node]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.127Z", "log.level": "INFO", "message":"loaded module [x-pack-deprecation]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.128Z", "log.level": "INFO", "message":"loaded module [x-pack-fleet]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.128Z", "log.level": "INFO", "message":"loaded module [x-pack-profiling]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.128Z", "log.level": "INFO", "message":"loaded module [ingest-geoip]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.128Z", "log.level": "INFO", "message":"loaded module [x-pack-write-load-forecaster]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.129Z", "log.level": "INFO", "message":"loaded module [search-business-rules]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.129Z", "log.level": "INFO", "message":"loaded module [ingest-attachment]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.129Z", "log.level": "INFO", "message":"loaded module [wildcard]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.129Z", "log.level": "INFO", "message":"loaded module [x-pack-sql]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.130Z", "log.level": "INFO", "message":"loaded module [unsigned-long]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.130Z", "log.level": "INFO", "message":"loaded module [runtime-fields-common]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.130Z", "log.level": "INFO", "message":"loaded module [x-pack-async]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.131Z", "log.level": "INFO", "message":"loaded module [vector-tile]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.131Z", "log.level": "INFO", "message":"loaded module [lang-expression]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:24.131Z", "log.level": "INFO", "message":"loaded module [x-pack-eql]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.plugins.PluginsService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + :
elk-setup          | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup          | + i=8
elk-setup          | + '[' 8 -ge 120 ]
elk-setup          | + sleep 2
elk-setup          | + :
elk-setup          | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup          | + i=9
elk-setup          | + '[' 9 -ge 120 ]
elk-setup          | + sleep 2
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:26.698Z", "log.level": "INFO", "message":"using [1] data paths, mounts [[/usr/share/elasticsearch/data (/dev/vda1)]], net usable_space [428.4gb], net total_space [457.2gb], types [ext4]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.env.NodeEnvironment","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:26.699Z", "log.level": "INFO", "message":"heap size [1gb], compressed ordinary object pointers [true]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.env.NodeEnvironment","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:26.853Z", "log.level": "INFO", "message":"node name [es01], node ID [FFzumr3qTYyEcOchUgzMoQ], cluster name [elk-cluster], roles [ml, data_hot, transform, data_content, data_warm, master, remote_cluster_client, data, data_cold, ingest, data_frozen]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.node.Node","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + :
elk-setup          | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup          | + i=10
elk-setup          | + '[' 10 -ge 120 ]
elk-setup          | + sleep 2
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:29.225Z", "log.level": "INFO", "message":"[controller/149] [Main.cc@123] controller (64 bit): Version 8.9.0 (Build 4b769f85c816b8) Copyright (c) 2023 Elasticsearch BV", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"ml-cpp-log-tail-thread","log.logger":"org.elasticsearch.xpack.ml.process.logging.CppLogMessageHandler","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:29.483Z", "log.level": "INFO", "message":"Security is enabled", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.xpack.security.Security","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:29.873Z", "log.level": "INFO", "message":"parsed [0] roles from file [/usr/share/elasticsearch/config/roles.yml]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.xpack.security.authz.store.FileRolesStore","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:30.567Z", "log.level": "INFO", "message":"Profiling is enabled", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.xpack.profiler.ProfilingPlugin","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:30.593Z", "log.level": "INFO", "message":"profiling index templates will not be installed or reinstalled", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.xpack.profiler.ProfilingPlugin","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + :
elk-setup          | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup          | + i=11
elk-setup          | + '[' 11 -ge 120 ]
elk-setup          | + sleep 2
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:31.535Z", "log.level": "INFO", "message":"creating NettyAllocator with the following configs: [name=unpooled, suggested_max_allocation_size=1mb, factors={es.unsafe.use_unpooled_allocator=null, g1gc_enabled=true, g1gc_region_size=4mb, heap_size=1gb}]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.transport.netty4.NettyAllocator","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:31.569Z", "log.level": "INFO", "message":"using rate limit [40mb] with [default=40mb, read=0b, write=0b, max=0b]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.indices.recovery.RecoverySettings","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:31.628Z", "log.level": "INFO", "message":"using discovery type [single-node] and seed hosts providers [settings]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.discovery.DiscoveryModule","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + :
elk-setup          | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup          | + i=12
elk-setup          | + '[' 12 -ge 120 ]
elk-setup          | + sleep 2
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:33.001Z", "log.level": "INFO", "message":"initialized", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.node.Node","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:33.002Z", "log.level": "INFO", "message":"starting ...", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.node.Node","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:33.027Z", "log.level": "INFO", "message":"persistent cache index loaded", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.xpack.searchablesnapshots.cache.full.PersistentCache","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:33.027Z", "log.level": "INFO", "message":"deprecation component started", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.xpack.deprecation.logging.DeprecationIndexingComponent","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:33.175Z", "log.level": "INFO", "message":"publish_address {172.18.0.2:9300}, bound_addresses {[::]:9300}", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.transport.TransportService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.045Z", "log.level": "WARN", "message":"this node is locked into cluster UUID [vT07tq1zSDKGXdUpozlygg] but [cluster.initial_master_nodes] is set to [es01]; remove this setting to avoid possible data loss caused by subsequent cluster bootstrap attempts; for further information see https://www.elastic.co/guide/en/elasticsearch/reference/8.9/important-settings.html#initial_master_nodes", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.cluster.coordination.ClusterBootstrapService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.150Z", "log.level": "INFO", "message":"elected-as-master ([1] nodes joined in term 2)[_FINISH_ELECTION_, {es01}{FFzumr3qTYyEcOchUgzMoQ}{l7c-Bi7KTiutUDIX1v3yYQ}{es01}{172.18.0.2}{172.18.0.2:9300}{cdfhilmrstw}{8.9.0} completing election], term: 2, version: 142, delta: master node changed {previous [], current [{es01}{FFzumr3qTYyEcOchUgzMoQ}{l7c-Bi7KTiutUDIX1v3yYQ}{es01}{172.18.0.2}{172.18.0.2:9300}{cdfhilmrstw}{8.9.0}]}", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][masterService#updateTask][T#1]","log.logger":"org.elasticsearch.cluster.service.MasterService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.234Z", "log.level": "INFO", "message":"master node changed {previous [], current [{es01}{FFzumr3qTYyEcOchUgzMoQ}{l7c-Bi7KTiutUDIX1v3yYQ}{es01}{172.18.0.2}{172.18.0.2:9300}{cdfhilmrstw}{8.9.0}]}, term: 2, version: 142, reason: Publication{term=2, version=142}", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][clusterApplierService#updateTask][T#1]","log.logger":"org.elasticsearch.cluster.service.ClusterApplierService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.316Z", "log.level": "INFO", "message":"starting file watcher ...", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][clusterApplierService#updateTask][T#1]","log.logger":"org.elasticsearch.common.file.AbstractFileWatchingService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.322Z", "log.level": "INFO", "message":"file settings service up and running [tid=60]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[file-watcher[/usr/share/elasticsearch/config/operator/settings.json]]","log.logger":"org.elasticsearch.common.file.AbstractFileWatchingService","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.330Z", "log.level": "INFO", "message":"node-join: [{es01}{FFzumr3qTYyEcOchUgzMoQ}{l7c-Bi7KTiutUDIX1v3yYQ}{es01}{172.18.0.2}{172.18.0.2:9300}{cdfhilmrstw}{8.9.0}] with reason [completing election]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][masterService#updateTask][T#1]","log.logger":"org.elasticsearch.cluster.coordination.NodeJoinExecutor","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.333Z", "log.level": "INFO", "message":"publish_address {172.18.0.2:9200}, bound_addresses {[::]:9200}", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.http.AbstractHttpServerTransport","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.334Z", "log.level": "INFO", "message":"started {es01}{FFzumr3qTYyEcOchUgzMoQ}{l7c-Bi7KTiutUDIX1v3yYQ}{es01}{172.18.0.2}{172.18.0.2:9300}{cdfhilmrstw}{8.9.0}{ml.max_jvm_size=1073741824, ml.allocated_processors_double=8.0, xpack.installed=true, ml.machine_memory=4103389184, ml.allocated_processors=8}", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"main","log.logger":"org.elasticsearch.node.Node","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + :
elk-setup          | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.711Z", "log.level": "INFO", "message":"scheduling snapshot lifecycle job [ftt-daily-snapshots-3]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][clusterApplierService#updateTask][T#1]","log.logger":"org.elasticsearch.xpack.slm.SnapshotLifecycleService","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.729Z", "log.level": "INFO", "message":"license [4fd6bf5f-4348-4574-8357-92e3719039d7] mode [basic] - valid", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][clusterApplierService#updateTask][T#1]","log.logger":"org.elasticsearch.license.ClusterStateLicenseService","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.732Z", "log.level": "INFO", "message":"license mode is [basic], currently licensed security realms are [reserved/reserved,file/default_file,native/default_native]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][clusterApplierService#updateTask][T#1]","log.logger":"org.elasticsearch.xpack.security.authc.Realms","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.739Z", "log.level": "INFO", "message":"recovered [25] indices into cluster_state", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][masterService#updateTask][T#1]","log.logger":"org.elasticsearch.gateway.GatewayService","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.987Z", "log.level":"ERROR", "message":"failed to retrieve password hash for reserved user [elastic]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][transport_worker][T#3]","log.logger":"org.elasticsearch.xpack.security.authc.esnative.ReservedRealm","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster","error.type":"org.elasticsearch.action.UnavailableShardsException","error.message":"at least one primary shard for the index [.security-7] is unavailable","error.stack_trace":"org.elasticsearch.action.UnavailableShardsException: at least one primary shard for the index [.security-7] is unavailable\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.support.SecurityIndexManager.getUnavailableReason(SecurityIndexManager.java:138)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.esnative.NativeUsersStore.getReservedUserInfo(NativeUsersStore.java:603)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.esnative.ReservedRealm.getUserInfo(ReservedRealm.java:272)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.esnative.ReservedRealm.doAuthenticate(ReservedRealm.java:136)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.support.CachingUsernamePasswordRealm.authenticateWithCache(CachingUsernamePasswordRealm.java:200)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.support.CachingUsernamePasswordRealm.authenticate(CachingUsernamePasswordRealm.java:105)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.RealmsAuthenticator.lambda$consumeToken$4(RealmsAuthenticator.java:147)\n\tat org.elasticsearch.xcore@8.9.0/org.elasticsearch.xpack.core.common.IteratingActionListener.run(IteratingActionListener.java:117)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.RealmsAuthenticator.consumeToken(RealmsAuthenticator.java:237)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.RealmsAuthenticator.authenticate(RealmsAuthenticator.java:83)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.AuthenticatorChain.lambda$getAuthenticatorConsumer$5(AuthenticatorChain.java:181)\n\tat org.elasticsearch.xcore@8.9.0/org.elasticsearch.xpack.core.common.IteratingActionListener.onResponse(IteratingActionListener.java:135)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.AuthenticatorChain.lambda$getAuthenticatorConsumer$5(AuthenticatorChain.java:159)\n\tat org.elasticsearch.xcore@8.9.0/org.elasticsearch.xpack.core.common.IteratingActionListener.onResponse(IteratingActionListener.java:135)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.AuthenticatorChain.lambda$getAuthenticatorConsumer$5(AuthenticatorChain.java:159)\n\tat org.elasticsearch.xcore@8.9.0/org.elasticsearch.xpack.core.common.IteratingActionListener.onResponse(IteratingActionListener.java:135)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.AuthenticatorChain.lambda$getAuthenticatorConsumer$5(AuthenticatorChain.java:159)\n\tat org.elasticsearch.xcore@8.9.0/org.elasticsearch.xpack.core.common.IteratingActionListener.run(IteratingActionListener.java:117)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.AuthenticatorChain.doAuthenticate(AuthenticatorChain.java:137)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.AuthenticatorChain.authenticateAsync(AuthenticatorChain.java:96)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.AuthenticationService.authenticate(AuthenticationService.java:261)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.AuthenticationService.authenticate(AuthenticationService.java:150)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.authc.AuthenticationService.authenticate(AuthenticationService.java:128)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.Security.lambda$getHttpTransports$32(Security.java:1703)\n\tat org.elasticsearch.security@8.9.0/org.elasticsearch.xpack.security.Security.lambda$getHttpServerTransportWithHeadersValidator$35(Security.java:1760)\n\tat org.elasticsearch.transport.netty4@8.9.0/org.elasticsearch.http.netty4.internal.HttpHeadersAuthenticatorUtils.lambda$getValidatorInboundHandler$2(HttpHeadersAuthenticatorUtils.java:47)\n\tat org.elasticsearch.transport.netty4@8.9.0/org.elasticsearch.http.netty4.Netty4HttpHeaderValidator.requestStart(Netty4HttpHeaderValidator.java:126)\n\tat org.elasticsearch.transport.netty4@8.9.0/org.elasticsearch.http.netty4.Netty4HttpHeaderValidator.channelRead(Netty4HttpHeaderValidator.java:61)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n\tat io.netty.codec@4.1.94.Final/io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n\tat io.netty.codec@4.1.94.Final/io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n\tat io.netty.codec@4.1.94.Final/io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n\tat io.netty.handler@4.1.94.Final/io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1383)\n\tat io.netty.handler@4.1.94.Final/io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1246)\n\tat io.netty.handler@4.1.94.Final/io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1295)\n\tat io.netty.codec@4.1.94.Final/io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)\n\tat io.netty.codec@4.1.94.Final/io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468)\n\tat io.netty.codec@4.1.94.Final/io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:689)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:652)\n\tat io.netty.transport@4.1.94.Final/io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n\tat io.netty.common@4.1.94.Final/io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n\tat io.netty.common@4.1.94.Final/io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n\tat java.base/java.lang.Thread.run(Thread.java:1623)\n"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:34.992Z", "log.level": "INFO", "message":"Authentication of [elastic] was terminated by realm [reserved] - failed to authenticate user [elastic]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][transport_worker][T#3]","log.logger":"org.elasticsearch.xpack.security.authc.RealmsAuthenticator","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + i=13
elk-setup          | + '[' 13 -ge 120 ]
elk-setup          | + sleep 2
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:35.184Z", "log.level": "INFO", "message":"Node [{es01}{FFzumr3qTYyEcOchUgzMoQ}] is selected as the current health node.", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][management][T#1]","log.logger":"org.elasticsearch.health.node.selection.HealthNodeTaskExecutor","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:36.082Z", "log.level": "INFO",  "current.health":"GREEN","message":"Cluster health status changed from [RED] to [GREEN] (reason: [shards started [[.ds-ilm-history-5-2025.09.28-000001][0]]]).","previous.health":"RED","reason":"shards started [[.ds-ilm-history-5-2025.09.28-000001][0]]" , "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][masterService#updateTask][T#1]","log.logger":"org.elasticsearch.cluster.routing.allocation.AllocationService","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + :
elk-setup          | + _curl -X GET https://elasticsearch:9200 -o /dev/null
elk-setup          | + echo 'Elasticsearch is up.'
elk-setup          | + break
elk-setup          | + echo '>> Setting built-in passwords (kibana_system, logstash_system)...'
elk-setup          | + json_escape 1_Kibana
elk-setup          | Elasticsearch is up.
elk-setup          | >> Setting built-in passwords (kibana_system, logstash_system)...
elk-setup          | + printf '%s' 1_Kibana
elk-setup          | + sed -e 's/\\/\\\\/g' -e 's/"/\\"/g' -e 's/\r/\\r/g' -e ':a;N;$!ba;s/\n/\\n/g' -e 's/	/\\t/g'
elk-setup          | + _pw_kibana=1_Kibana
elk-setup          | + json_escape passwordforLogstash
elk-setup          | + printf '%s' passwordforLogstash
elk-setup          | + sed -e 's/\\/\\\\/g' -e 's/"/\\"/g' -e 's/\r/\\r/g' -e ':a;N;$!ba;s/\n/\\n/g' -e 's/	/\\t/g'
elk-setup          | + _pw_logstash=passwordforLogstash
elk-setup          | + _curl -X POST https://elasticsearch:9200/_security/user/kibana_system/_password --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X POST https://elasticsearch:9200/_security/user/kibana_system/_password --data-binary @-
elk-setup          | + _curl -X POST https://elasticsearch:9200/_security/user/logstash_system/_password --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X POST https://elasticsearch:9200/_security/user/logstash_system/_password --data-binary @-
elk-setup          | + echo '>> Creating/updating role ft_logs_writer...'
elk-setup          | + _curl -X PUT https://elasticsearch:9200/_security/role/ft_logs_writer --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT https://elasticsearch:9200/_security/role/ft_logs_writer --data-binary @-
elk-setup          | {}{}>> Creating/updating role ft_logs_writer...
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:37.612Z", "log.level": "INFO", "message":"updated role [ft_logs_writer]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][generic][T#4]","log.logger":"org.elasticsearch.xpack.security.action.role.TransportPutRoleAction","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | {"role":{"created":false}}>> Ensuring user exists and has ft_logs_writer role...
elk-setup          | + echo '>> Ensuring user exists and has ft_logs_writer role...'
elk-setup          | + json_escape 1_Kibana
elk-setup          | + printf '%s' 1_Kibana
elk-setup          | + sed -e 's/\\/\\\\/g' -e 's/"/\\"/g' -e 's/\r/\\r/g' -e ':a;N;$!ba;s/\n/\\n/g' -e 's/	/\\t/g'
elk-setup          | + _pw_ls=1_Kibana
elk-setup          | + cat
elk-setup          | + _user_payload='{"password":"1_Kibana","roles":["ft_logs_writer"],"full_name":"FT Logs Writer","enabled":true}'
elk-setup          | + printf '%s' '{"password":"1_Kibana","roles":["ft_logs_writer"],"full_name":"FT Logs Writer","enabled":true}'
elk-setup          | + _curl -X POST https://elasticsearch:9200/_security/user/logstash_writer --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X POST https://elasticsearch:9200/_security/user/logstash_writer --data-binary @-
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:37.763Z", "log.level": "INFO", "message":"updated user [logstash_writer]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][generic][T#1]","log.logger":"org.elasticsearch.xpack.security.action.user.TransportPutUserAction","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + echo '>> Creating ILM policy ftt-logs-7d...'
elk-setup          | + _curl -X PUT https://elasticsearch:9200/_ilm/policy/ftt-logs-7d --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT https://elasticsearch:9200/_ilm/policy/ftt-logs-7d --data-binary @-
elk-setup          | {"created":false}>> Creating ILM policy ftt-logs-7d...
elk-setup          | + echo '>> Creating index template ftt-logs-json-template...'
elk-setup          | + _curl -X PUT https://elasticsearch:9200/_index_template/ftt-logs-json-template --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT https://elasticsearch:9200/_index_template/ftt-logs-json-template --data-binary @-
elk-setup          | {"acknowledged":true}>> Creating index template ftt-logs-json-template...
elk-setup          | + echo '>> Ensuring alias ftt-logs-json has a write index...'
elk-setup          | + _curl -X GET https://elasticsearch:9200/_alias/ftt-logs-json -o /dev/null
elk-setup          | {"acknowledged":true}>> Ensuring alias ftt-logs-json has a write index...
elk-setup          | + echo '>> Ensuring snapshot repo ftt-fs-repo...'
elk-setup          | + _curl -X PUT https://elasticsearch:9200/_snapshot/ftt-fs-repo --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT https://elasticsearch:9200/_snapshot/ftt-fs-repo --data-binary @-
elk-setup          | >> Ensuring snapshot repo ftt-fs-repo...
elk-setup          | + echo '>> Ensuring SLM policy ftt-daily-snapshots...'
elk-setup          | + _curl -X PUT https://elasticsearch:9200/_slm/policy/ftt-daily-snapshots --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT https://elasticsearch:9200/_slm/policy/ftt-daily-snapshots --data-binary @-
elk-setup          | {"acknowledged":true}>> Ensuring SLM policy ftt-daily-snapshots...
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:37.955Z", "log.level": "INFO", "message":"updating existing snapshot lifecycle [ftt-daily-snapshots]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][masterService#updateTask][T#1]","log.logger":"org.elasticsearch.xpack.slm.action.TransportPutSnapshotLifecycleAction","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:38.016Z", "log.level": "INFO", "message":"rescheduling updated snapshot lifecycle job [ftt-daily-snapshots-4]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][clusterApplierService#updateTask][T#1]","log.logger":"org.elasticsearch.xpack.slm.SnapshotLifecycleService","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + '[' true '=' true ]
elk-setup          | + echo '>> Setting replicas=0 on common system indices (single-node mode)...'
elk-setup          | + _curl -X PUT https://elasticsearch:9200/.kibana/_settings --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT https://elasticsearch:9200/.kibana/_settings --data-binary @-
elk-setup          | {"acknowledged":true}>> Setting replicas=0 on common system indices (single-node mode)...
elk-setup          | curl: (22) The requested URL returned error: 403
elk-setup          | + true
elk-setup          | + _curl -X PUT 'https://elasticsearch:9200/.kibana_*/_settings' --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT 'https://elasticsearch:9200/.kibana_*/_settings' --data-binary @-
elk-setup          | curl: (22) The requested URL returned error: 404
elk-setup          | + true
elk-setup          | + _curl -X PUT https://elasticsearch:9200/.security/_settings --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT https://elasticsearch:9200/.security/_settings --data-binary @-
elk-setup          | curl: (22) The requested URL returned error: 403
elk-setup          | + true
elk-setup          | + _curl -X PUT 'https://elasticsearch:9200/.internal.alerts-*/_settings' --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT 'https://elasticsearch:9200/.internal.alerts-*/_settings' --data-binary @-
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:38.197Z", "log.level": "INFO", "message":"updating number_of_replicas to [0] for indices [.internal.alerts-observability.metrics.alerts-default-000001, .internal.alerts-observability.logs.alerts-default-000001, .internal.alerts-observability.uptime.alerts-default-000001, .internal.alerts-observability.slo.alerts-default-000001, .internal.alerts-security.alerts-default-000001, .internal.alerts-observability.apm.alerts-default-000001]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][masterService#updateTask][T#1]","log.logger":"org.elasticsearch.cluster.metadata.MetadataUpdateSettingsService","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + _curl -X PUT 'https://elasticsearch:9200/.fleet*/_settings' --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT 'https://elasticsearch:9200/.fleet*/_settings' --data-binary @-
elk-elasticsearch  | {"@timestamp":"2025-09-28T19:42:38.233Z", "log.level": "INFO", "message":"updating number_of_replicas to [0] for indices [.fleet-file-data-agent-000001, .fleet-files-agent-000001]", "ecs.version": "1.2.0","service.name":"ES_ECS","event.dataset":"elasticsearch.server","process.thread.name":"elasticsearch[es01][masterService#updateTask][T#1]","log.logger":"org.elasticsearch.cluster.metadata.MetadataUpdateSettingsService","elasticsearch.cluster.uuid":"vT07tq1zSDKGXdUpozlygg","elasticsearch.node.id":"FFzumr3qTYyEcOchUgzMoQ","elasticsearch.node.name":"es01","elasticsearch.cluster.name":"elk-cluster"}
elk-setup          | + _curl -X PUT 'https://elasticsearch:9200/.monitoring-*/_settings' --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT 'https://elasticsearch:9200/.monitoring-*/_settings' --data-binary @-
elk-setup          | curl: (22) The requested URL returned error: 404
elk-setup          | + true
elk-setup          | + _curl -X PUT 'https://elasticsearch:9200/.reporting-*/_settings' --data-binary @-
elk-setup          | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H 'Content-Type: application/json' -X PUT 'https://elasticsearch:9200/.reporting-*/_settings' --data-binary @-
elk-setup          | curl: (22) The requested URL returned error: 404
elk-setup          | + true
elk-setup          | + echo '>> ES setup complete.'
elk-setup          | {"acknowledged":true}{"acknowledged":true}>> ES setup complete.
[Kelk-setup exited with code 0
elk-logstash       | Using bundled JDK: /usr/share/logstash/jdk
elk-kbn-setup      | >> Waiting for Elasticsearch...
elk-kbn-setup      | + set -euo pipefail
elk-kbn-setup      | + KBN_URL=https://kibana:5601
elk-kbn-setup      | + ES_URL=https://elasticsearch:9200
elk-kbn-setup      | + ELASTIC_PASS=1_Kibana
elk-kbn-setup      | + CA_CERT=/certs/ca/ca.crt
elk-kbn-setup      | + KCURL='curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json'
elk-kbn-setup      | + ECURL='curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H Content-Type:application/json'
elk-kbn-setup      | + echo '>> Waiting for Elasticsearch...'
elk-kbn-setup      | + seq 1 120
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H Content-Type:application/json -X GET https://elasticsearch:9200
elk-kbn-setup      | Elasticsearch is up.
elk-kbn-setup      | >> Waiting for Kibana...
elk-kbn-setup      | + echo 'Elasticsearch is up.'
elk-kbn-setup      | + break
elk-kbn-setup      | + echo '>> Waiting for Kibana...'
elk-kbn-setup      | + seq 1 180
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kibana         | [2025-09-28T19:42:46.068+00:00][INFO ][node] Kibana process configured with roles: [background_tasks, ui]
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-logstash       | Sending Logstash logs to /usr/share/logstash/logs which is now configured via log4j2.properties
elk-logstash       | [2025-09-28T19:42:55,077][WARN ][deprecation.logstash.runner] NOTICE: Running Logstash as superuser is not recommended and won't be allowed in the future. Set 'allow_superuser' to 'false' to avoid startup errors in future releases.
elk-logstash       | [2025-09-28T19:42:55,096][INFO ][logstash.runner          ] Log4j configuration path used is: /usr/share/logstash/config/log4j2.properties
elk-logstash       | [2025-09-28T19:42:55,098][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"8.9.0", "jruby.version"=>"jruby 9.3.10.0 (2.6.8) 2023-02-01 107b2e6697 OpenJDK 64-Bit Server VM 17.0.7+7 on 17.0.7+7 +indy +jit [x86_64-linux]"}
elk-logstash       | [2025-09-28T19:42:55,101][INFO ][logstash.runner          ] JVM bootstrap flags: [-Xms1g, -Xmx1g, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djruby.compile.invokedynamic=true, -XX:+HeapDumpOnOutOfMemoryError, -Djava.security.egd=file:/dev/urandom, -Dlog4j2.isThreadContextMapInheritable=true, -Dls.cgroup.cpuacct.path.override=/, -Dls.cgroup.cpu.path.override=/, -Xms256m, -Xmx256m, -Djruby.regexp.interruptible=true, -Djdk.io.File.enableADS=true, --add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED, --add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED, --add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED, --add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED, --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED, --add-opens=java.base/java.security=ALL-UNNAMED, --add-opens=java.base/java.io=ALL-UNNAMED, --add-opens=java.base/java.nio.channels=ALL-UNNAMED, --add-opens=java.base/sun.nio.ch=ALL-UNNAMED, --add-opens=java.management/sun.management=ALL-UNNAMED]
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-logstash       | /usr/share/logstash/vendor/bundle/jruby/2.6.0/gems/sinatra-2.2.4/lib/sinatra/base.rb:938: warning: constant Tilt::Cache is deprecated
elk-logstash       | [2025-09-28T19:42:55,997][WARN ][deprecation.logstash.monitoringextension.pipelineregisterhook] Internal collectors option for Logstash monitoring is deprecated and targeted for removal in the next major version.
elk-logstash       | Please configure Metricbeat to monitor Logstash. Documentation can be found at: 
elk-logstash       | https://www.elastic.co/guide/en/logstash/current/monitoring-with-metricbeat.html
elk-logstash       | [2025-09-28T19:42:56,347][INFO ][logstash.licensechecker.licensereader] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://logstash_system:xxxxxx@elasticsearch:9200/]}}
elk-logstash       | [2025-09-28T19:42:56,754][WARN ][logstash.licensechecker.licensereader] Restored connection to ES instance {:url=>"https://logstash_system:xxxxxx@elasticsearch:9200/"}
elk-logstash       | [2025-09-28T19:42:56,764][INFO ][logstash.licensechecker.licensereader] Elasticsearch version determined (8.9.0) {:es_version=>8}
elk-logstash       | [2025-09-28T19:42:56,764][WARN ][logstash.licensechecker.licensereader] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>8}
elk-logstash       | [2025-09-28T19:42:56,810][INFO ][logstash.monitoring.internalpipelinesource] Monitoring License OK
elk-logstash       | [2025-09-28T19:42:56,810][INFO ][logstash.monitoring.internalpipelinesource] Validated license for monitoring. Enabling monitoring pipeline.
elk-logstash       | [2025-09-28T19:42:56,965][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600, :ssl_enabled=>false}
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-logstash       | [2025-09-28T19:42:57,552][INFO ][org.reflections.Reflections] Reflections took 204 ms to scan 1 urls, producing 132 keys and 464 values
elk-logstash       | [2025-09-28T19:42:57,718][INFO ][logstash.codecs.json     ] ECS compatibility is enabled but `target` option was not specified. This may cause fields to be set at the top-level of the event where they are likely to clash with the Elastic Common Schema. It is recommended to set the `target` option to avoid potential schema conflicts (if your data is ECS compliant or non-conflicting, feel free to ignore this message)
elk-logstash       | [2025-09-28T19:42:57,794][INFO ][logstash.javapipeline    ] Pipeline `.monitoring-logstash` is configured with `pipeline.ecs_compatibility: v8` setting. All plugins in this pipeline will default to `ecs_compatibility => v8` unless explicitly configured otherwise.
elk-logstash       | [2025-09-28T19:42:57,820][INFO ][logstash.outputs.elasticsearchmonitoring][.monitoring-logstash] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearchMonitoring", :hosts=>["https://elasticsearch:9200"]}
elk-logstash       | [2025-09-28T19:42:57,828][INFO ][logstash.outputs.elasticsearchmonitoring][.monitoring-logstash] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://logstash_system:xxxxxx@elasticsearch:9200/]}}
elk-logstash       | [2025-09-28T19:42:57,886][WARN ][logstash.outputs.elasticsearchmonitoring][.monitoring-logstash] Restored connection to ES instance {:url=>"https://logstash_system:xxxxxx@elasticsearch:9200/"}
elk-logstash       | [2025-09-28T19:42:57,899][INFO ][logstash.outputs.elasticsearchmonitoring][.monitoring-logstash] Elasticsearch version determined (8.9.0) {:es_version=>8}
elk-logstash       | [2025-09-28T19:42:57,899][WARN ][logstash.outputs.elasticsearchmonitoring][.monitoring-logstash] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>8}
elk-logstash       | [2025-09-28T19:42:57,920][INFO ][logstash.javapipeline    ] Pipeline `main` is configured with `pipeline.ecs_compatibility: v8` setting. All plugins in this pipeline will default to `ecs_compatibility => v8` unless explicitly configured otherwise.
elk-logstash       | [2025-09-28T19:42:57,931][WARN ][logstash.javapipeline    ][.monitoring-logstash] 'pipeline.ordered' is enabled and is likely less efficient, consider disabling if preserving event order is not necessary
elk-logstash       | [2025-09-28T19:42:57,953][INFO ][logstash.javapipeline    ][.monitoring-logstash] Starting pipeline {:pipeline_id=>".monitoring-logstash", "pipeline.workers"=>1, "pipeline.batch.size"=>2, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>2, "pipeline.sources"=>["monitoring pipeline"], :thread=>"#<Thread:0x642c2f56@/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:134 run>"}
elk-logstash       | [2025-09-28T19:42:57,958][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["https://elasticsearch:9200"]}
elk-logstash       | [2025-09-28T19:42:57,975][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://logstash_writer:xxxxxx@elasticsearch:9200/]}}
elk-logstash       | [2025-09-28T19:42:58,142][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"https://logstash_writer:xxxxxx@elasticsearch:9200/"}
elk-logstash       | [2025-09-28T19:42:58,153][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (8.9.0) {:es_version=>8}
elk-logstash       | [2025-09-28T19:42:58,154][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>8}
elk-logstash       | [2025-09-28T19:42:58,174][INFO ][logstash.outputs.elasticsearch][main] Not eligible for data streams because config contains one or more settings that are not compatible with data streams: {"index"=>"ftt-logs-json"}
elk-logstash       | [2025-09-28T19:42:58,175][INFO ][logstash.outputs.elasticsearch][main] Data streams auto configuration (`data_stream => auto` or unset) resolved to `false`
elk-logstash       | [2025-09-28T19:42:58,188][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>8, :ecs_compatibility=>:v8}
elk-logstash       | [2025-09-28T19:42:58,196][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/usr/share/logstash/pipeline/logstash.conf"], :thread=>"#<Thread:0x7f9d27ed@/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:134 run>"}
elk-logstash       | [2025-09-28T19:42:58,806][INFO ][logstash.javapipeline    ][.monitoring-logstash] Pipeline Java execution initialization time {"seconds"=>0.85}
elk-logstash       | [2025-09-28T19:42:58,838][INFO ][logstash.javapipeline    ][.monitoring-logstash] Pipeline started {"pipeline.id"=>".monitoring-logstash"}
elk-logstash       | [2025-09-28T19:42:59,051][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>0.85}
elk-logstash       | [2025-09-28T19:42:59,062][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
elk-logstash       | [2025-09-28T19:42:59,066][INFO ][filewatch.observingtail  ][main][4be57a6433459898427a97627b96b2d35f9c000f28cd2e3ccc7880d6fb7456c0] START, creating Discoverer, Watch with file and sincedb collections
elk-logstash       | [2025-09-28T19:42:59,078][INFO ][logstash.agent           ] Pipelines running {:count=>2, :running_pipelines=>[:".monitoring-logstash", :main], :non_running_pipelines=>[]}
elk-logstash       | [2025-09-28T19:42:59,099][INFO ][logstash.codecs.json     ][main][4be57a6433459898427a97627b96b2d35f9c000f28cd2e3ccc7880d6fb7456c0] ECS compatibility is enabled but `target` option was not specified. This may cause fields to be set at the top-level of the event where they are likely to clash with the Elastic Common Schema. It is recommended to set the `target` option to avoid potential schema conflicts (if your data is ECS compliant or non-conflicting, feel free to ignore this message)
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kibana         | [2025-09-28T19:43:10.459+00:00][INFO ][plugins-service] Plugin "cloudChat" is disabled.
elk-kibana         | [2025-09-28T19:43:10.464+00:00][INFO ][plugins-service] Plugin "cloudExperiments" is disabled.
elk-kibana         | [2025-09-28T19:43:10.465+00:00][INFO ][plugins-service] Plugin "cloudFullStory" is disabled.
elk-kibana         | [2025-09-28T19:43:10.465+00:00][INFO ][plugins-service] Plugin "cloudGainsight" is disabled.
elk-kibana         | [2025-09-28T19:43:10.555+00:00][INFO ][plugins-service] Plugin "profiling" is disabled.
elk-kibana         | [2025-09-28T19:43:10.574+00:00][INFO ][plugins-service] Plugin "serverless" is disabled.
elk-kibana         | [2025-09-28T19:43:10.575+00:00][INFO ][plugins-service] Plugin "serverlessObservability" is disabled.
elk-kibana         | [2025-09-28T19:43:10.575+00:00][INFO ][plugins-service] Plugin "serverlessSearch" is disabled.
elk-kibana         | [2025-09-28T19:43:10.576+00:00][INFO ][plugins-service] Plugin "serverlessSecurity" is disabled.
elk-kibana         | [2025-09-28T19:43:10.800+00:00][INFO ][http.server.Preboot] http server running at https://0.0.0.0:5601
elk-kibana         | [2025-09-28T19:43:10.986+00:00][INFO ][plugins-system.preboot] Setting up [1] plugins: [interactiveSetup]
elk-kibana         | [2025-09-28T19:43:11.034+00:00][WARN ][config.deprecation] The default mechanism for Reporting privileges will work differently in future versions, which will affect the behavior of this cluster. Set "xpack.reporting.roles.enabled" to "false" to adopt the future behavior before upgrading.
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kibana         | [2025-09-28T19:43:12.029+00:00][INFO ][plugins-system.standard] Setting up [137] plugins: [usageCollection,telemetryCollectionManager,telemetryCollectionXpack,taskManager,kibanaUsageCollection,cloud,translations,share,screenshotMode,newsfeed,savedObjectsFinder,monitoringCollection,licensing,mapsEms,globalSearch,globalSearchProviders,features,guidedOnboarding,banners,licenseApiGuard,customBranding,ftrApis,fieldFormats,expressions,screenshotting,charts,esUiShared,customIntegrations,contentManagement,dataViews,home,searchprofiler,painlessLab,management,cloudDataMigration,advancedSettings,spaces,security,telemetry,licenseManagement,snapshotRestore,lists,files,encryptedSavedObjects,eventLog,actions,notifications,grokdebugger,console,bfetch,data,watcher,savedSearch,savedObjectsTagging,savedObjectsManagement,unifiedSearch,graph,embeddable,uiActionsEnhanced,presentationUtil,expressionShape,expressionRevealImage,expressionRepeatImage,expressionMetric,expressionImage,controls,fileUpload,ingestPipelines,ecsDataQualityDashboard,dataViewFieldEditor,visualizations,visTypeXy,visTypeVislib,visTypeVega,visTypeTimeseries,visTypeTimelion,visTypeTagcloud,visTypeTable,visTypeMetric,visTypeMarkdown,visTypeHeatmap,inputControlVis,expressionTagcloud,expressionPartitionVis,visTypePie,expressionMetricVis,expressionLegacyMetricVis,expressionHeatmap,expressionGauge,visTypeGauge,eventAnnotation,expressionXY,dashboard,lens,maps,aiops,dashboardEnhanced,dataViewManagement,alerting,triggersActionsUi,transform,stackConnectors,stackAlerts,ruleRegistry,cases,timelines,sessionView,kubernetesSecurity,threatIntelligence,discover,reporting,reportingExportTypes,canvas,fleet,osquery,indexManagement,rollup,remoteClusters,crossClusterReplication,indexLifecycleManagement,cloudSecurityPosture,cloudDefend,observability,observabilityOnboarding,discoverEnhanced,dataVisualizer,ml,synthetics,securitySolution,essSecurity,infra,upgradeAssistant,monitoring,logstash,enterpriseSearch,apm,assetManager]
elk-kibana         | [2025-09-28T19:43:12.037+00:00][INFO ][plugins.taskManager] TaskManager is identified by the Kibana UUID: 57971be3-138e-485a-909e-d82081e4c349
elk-kibana         | [2025-09-28T19:43:12.079+00:00][INFO ][custom-branding-service] CustomBrandingService registering plugin: customBranding
elk-kibana         | [2025-09-28T19:43:12.219+00:00][INFO ][plugins.encryptedSavedObjects] Hashed 'xpack.encryptedSavedObjects.encryptionKey' for this instance: fr+ay3x6Lhbd1anvgZaGJ9gzMtSQIXOUPn+10v6ioSQ=
elk-kibana         | [2025-09-28T19:43:12.229+00:00][INFO ][plugins.notifications] Email Service Error: Email connector not specified.
elk-kibana         | [2025-09-28T19:43:12.634+00:00][WARN ][plugins.reporting.config] Found 'server.host: "0.0.0.0"' in Kibana configuration. Reporting is not able to use this as the Kibana server hostname. To enable PNG/PDF Reporting to work, 'xpack.reporting.kibanaServer.hostname: localhost' is automatically set in the configuration. You can prevent this message by adding 'xpack.reporting.kibanaServer.hostname: localhost' in kibana.yml.
elk-kibana         | [2025-09-28T19:43:12.735+00:00][INFO ][plugins.cloudSecurityPosture] Registered task successfully [Task: cloud_security_posture-stats_task]
elk-kibana         | [2025-09-28T19:43:12.747+00:00][INFO ][plugins.alerting] Registering resources for context "observability.slo".
elk-kibana         | [2025-09-28T19:43:12.803+00:00][INFO ][plugins.alerting] Registering resources for context "observability.uptime".
elk-kibana         | [2025-09-28T19:43:12.832+00:00][INFO ][plugins.alerting] Registering resources for context "security".
elk-kibana         | [2025-09-28T19:43:12.884+00:00][INFO ][plugins.alerting] Registering resources for context "observability.logs".
elk-kibana         | [2025-09-28T19:43:12.887+00:00][INFO ][plugins.alerting] Registering resources for context "observability.metrics".
elk-kibana         | [2025-09-28T19:43:12.997+00:00][INFO ][plugins.alerting] Registering resources for context "observability.apm".
elk-kibana         | [2025-09-28T19:43:13.000+00:00][INFO ][plugins.assetManager] Asset manager plugin [tech preview] is NOT enabled
elk-kibana         | [2025-09-28T19:43:13.147+00:00][INFO ][plugins.screenshotting.config] Chromium sandbox provides an additional layer of protection, and is supported for Linux Ubuntu 20.04 OS. Automatically enabling Chromium sandbox.
elk-kbn-setup      | + sleep 2
elk-kibana         | [2025-09-28T19:43:13.311+00:00][INFO ][savedobjects-service] Waiting until all Elasticsearch nodes are compatible with Kibana before starting saved objects migrations...
elk-kibana         | [2025-09-28T19:43:13.311+00:00][INFO ][savedobjects-service] Starting saved objects migrations
elk-kibana         | [2025-09-28T19:43:13.400+00:00][INFO ][savedobjects-service] [.kibana_task_manager] INIT -> WAIT_FOR_YELLOW_SOURCE. took: 58ms.
elk-kibana         | [2025-09-28T19:43:13.404+00:00][INFO ][savedobjects-service] [.kibana] INIT -> WAIT_FOR_YELLOW_SOURCE. took: 64ms.
elk-kibana         | [2025-09-28T19:43:13.409+00:00][INFO ][savedobjects-service] [.kibana_alerting_cases] INIT -> WAIT_FOR_YELLOW_SOURCE. took: 52ms.
elk-kibana         | [2025-09-28T19:43:13.414+00:00][INFO ][savedobjects-service] [.kibana_security_solution] INIT -> WAIT_FOR_YELLOW_SOURCE. took: 62ms.
elk-kibana         | [2025-09-28T19:43:13.419+00:00][INFO ][savedobjects-service] [.kibana_ingest] INIT -> WAIT_FOR_YELLOW_SOURCE. took: 52ms.
elk-kibana         | [2025-09-28T19:43:13.423+00:00][INFO ][savedobjects-service] [.kibana_analytics] INIT -> WAIT_FOR_YELLOW_SOURCE. took: 77ms.
elk-kibana         | [2025-09-28T19:43:13.427+00:00][INFO ][savedobjects-service] [.kibana_alerting_cases] WAIT_FOR_YELLOW_SOURCE -> UPDATE_SOURCE_MAPPINGS_PROPERTIES. took: 18ms.
elk-kibana         | [2025-09-28T19:43:13.429+00:00][INFO ][savedobjects-service] [.kibana_alerting_cases] UPDATE_SOURCE_MAPPINGS_PROPERTIES -> OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT. took: 1ms.
elk-kibana         | [2025-09-28T19:43:13.432+00:00][INFO ][savedobjects-service] [.kibana_security_solution] WAIT_FOR_YELLOW_SOURCE -> UPDATE_SOURCE_MAPPINGS_PROPERTIES. took: 18ms.
elk-kibana         | [2025-09-28T19:43:13.434+00:00][INFO ][savedobjects-service] [.kibana_security_solution] UPDATE_SOURCE_MAPPINGS_PROPERTIES -> OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT. took: 2ms.
elk-kibana         | [2025-09-28T19:43:13.438+00:00][INFO ][savedobjects-service] [.kibana_ingest] WAIT_FOR_YELLOW_SOURCE -> UPDATE_SOURCE_MAPPINGS_PROPERTIES. took: 19ms.
elk-kibana         | [2025-09-28T19:43:13.440+00:00][INFO ][savedobjects-service] [.kibana_ingest] UPDATE_SOURCE_MAPPINGS_PROPERTIES -> OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT. took: 2ms.
elk-kibana         | [2025-09-28T19:43:13.443+00:00][INFO ][savedobjects-service] [.kibana_task_manager] WAIT_FOR_YELLOW_SOURCE -> UPDATE_SOURCE_MAPPINGS_PROPERTIES. took: 43ms.
elk-kibana         | [2025-09-28T19:43:13.443+00:00][INFO ][savedobjects-service] [.kibana_task_manager] UPDATE_SOURCE_MAPPINGS_PROPERTIES -> OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT. took: 0ms.
elk-kibana         | [2025-09-28T19:43:13.446+00:00][INFO ][savedobjects-service] [.kibana] WAIT_FOR_YELLOW_SOURCE -> UPDATE_SOURCE_MAPPINGS_PROPERTIES. took: 42ms.
elk-kibana         | [2025-09-28T19:43:13.448+00:00][INFO ][savedobjects-service] [.kibana] UPDATE_SOURCE_MAPPINGS_PROPERTIES -> OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT. took: 2ms.
elk-kibana         | [2025-09-28T19:43:13.452+00:00][INFO ][savedobjects-service] [.kibana_analytics] WAIT_FOR_YELLOW_SOURCE -> UPDATE_SOURCE_MAPPINGS_PROPERTIES. took: 29ms.
elk-kibana         | [2025-09-28T19:43:13.454+00:00][INFO ][savedobjects-service] [.kibana_analytics] UPDATE_SOURCE_MAPPINGS_PROPERTIES -> OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT. took: 2ms.
elk-kibana         | [2025-09-28T19:43:13.489+00:00][INFO ][savedobjects-service] [.kibana_alerting_cases] OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT -> OUTDATED_DOCUMENTS_SEARCH_READ. took: 61ms.
elk-kibana         | [2025-09-28T19:43:13.493+00:00][INFO ][savedobjects-service] [.kibana_analytics] OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT -> OUTDATED_DOCUMENTS_SEARCH_READ. took: 39ms.
elk-kibana         | [2025-09-28T19:43:13.496+00:00][INFO ][savedobjects-service] [.kibana] OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT -> OUTDATED_DOCUMENTS_SEARCH_READ. took: 48ms.
elk-kibana         | [2025-09-28T19:43:13.500+00:00][INFO ][savedobjects-service] [.kibana_security_solution] OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT -> OUTDATED_DOCUMENTS_SEARCH_READ. took: 66ms.
elk-kibana         | [2025-09-28T19:43:13.506+00:00][INFO ][savedobjects-service] [.kibana_ingest] OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT -> OUTDATED_DOCUMENTS_SEARCH_READ. took: 66ms.
elk-kibana         | [2025-09-28T19:43:13.511+00:00][INFO ][savedobjects-service] [.kibana_task_manager] OUTDATED_DOCUMENTS_SEARCH_OPEN_PIT -> OUTDATED_DOCUMENTS_SEARCH_READ. took: 68ms.
elk-kibana         | [2025-09-28T19:43:13.630+00:00][INFO ][savedobjects-service] [.kibana_alerting_cases] OUTDATED_DOCUMENTS_SEARCH_READ -> OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT. took: 141ms.
elk-kibana         | [2025-09-28T19:43:13.635+00:00][INFO ][savedobjects-service] [.kibana_ingest] OUTDATED_DOCUMENTS_SEARCH_READ -> OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT. took: 129ms.
elk-kibana         | [2025-09-28T19:43:13.638+00:00][INFO ][savedobjects-service] [.kibana_task_manager] OUTDATED_DOCUMENTS_SEARCH_READ -> OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT. took: 127ms.
elk-kibana         | [2025-09-28T19:43:13.642+00:00][INFO ][savedobjects-service] [.kibana_analytics] OUTDATED_DOCUMENTS_SEARCH_READ -> OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT. took: 149ms.
elk-kibana         | [2025-09-28T19:43:13.645+00:00][INFO ][savedobjects-service] [.kibana_security_solution] OUTDATED_DOCUMENTS_SEARCH_READ -> OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT. took: 145ms.
elk-kibana         | [2025-09-28T19:43:13.651+00:00][INFO ][savedobjects-service] [.kibana_alerting_cases] OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT -> CHECK_TARGET_MAPPINGS. took: 20ms.
elk-kibana         | [2025-09-28T19:43:13.654+00:00][INFO ][savedobjects-service] [.kibana_alerting_cases] CHECK_TARGET_MAPPINGS -> CHECK_VERSION_INDEX_READY_ACTIONS. took: 4ms.
elk-kibana         | [2025-09-28T19:43:13.655+00:00][INFO ][savedobjects-service] [.kibana_alerting_cases] CHECK_VERSION_INDEX_READY_ACTIONS -> DONE. took: 1ms.
elk-kibana         | [2025-09-28T19:43:13.656+00:00][INFO ][savedobjects-service] [.kibana_alerting_cases] Migration completed after 299ms
elk-kibana         | [2025-09-28T19:43:13.659+00:00][INFO ][savedobjects-service] [.kibana_security_solution] OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT -> CHECK_TARGET_MAPPINGS. took: 14ms.
elk-kibana         | [2025-09-28T19:43:13.660+00:00][INFO ][savedobjects-service] [.kibana_security_solution] CHECK_TARGET_MAPPINGS -> CHECK_VERSION_INDEX_READY_ACTIONS. took: 1ms.
elk-kibana         | [2025-09-28T19:43:13.661+00:00][INFO ][savedobjects-service] [.kibana_security_solution] CHECK_VERSION_INDEX_READY_ACTIONS -> DONE. took: 1ms.
elk-kibana         | [2025-09-28T19:43:13.662+00:00][INFO ][savedobjects-service] [.kibana_security_solution] Migration completed after 310ms
elk-kibana         | [2025-09-28T19:43:13.664+00:00][INFO ][savedobjects-service] [.kibana] OUTDATED_DOCUMENTS_SEARCH_READ -> OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT. took: 168ms.
elk-kibana         | [2025-09-28T19:43:13.669+00:00][INFO ][savedobjects-service] [.kibana_task_manager] OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT -> CHECK_TARGET_MAPPINGS. took: 31ms.
elk-kibana         | [2025-09-28T19:43:13.670+00:00][INFO ][savedobjects-service] [.kibana_task_manager] CHECK_TARGET_MAPPINGS -> CHECK_VERSION_INDEX_READY_ACTIONS. took: 1ms.
elk-kibana         | [2025-09-28T19:43:13.671+00:00][INFO ][savedobjects-service] [.kibana_task_manager] CHECK_VERSION_INDEX_READY_ACTIONS -> DONE. took: 1ms.
elk-kibana         | [2025-09-28T19:43:13.671+00:00][INFO ][savedobjects-service] [.kibana_task_manager] Migration completed after 329ms
elk-kibana         | [2025-09-28T19:43:13.674+00:00][INFO ][savedobjects-service] [.kibana_ingest] OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT -> CHECK_TARGET_MAPPINGS. took: 39ms.
elk-kibana         | [2025-09-28T19:43:13.675+00:00][INFO ][savedobjects-service] [.kibana_ingest] CHECK_TARGET_MAPPINGS -> CHECK_VERSION_INDEX_READY_ACTIONS. took: 1ms.
elk-kibana         | [2025-09-28T19:43:13.676+00:00][INFO ][savedobjects-service] [.kibana_ingest] CHECK_VERSION_INDEX_READY_ACTIONS -> DONE. took: 1ms.
elk-kibana         | [2025-09-28T19:43:13.676+00:00][INFO ][savedobjects-service] [.kibana_ingest] Migration completed after 309ms
elk-kibana         | [2025-09-28T19:43:13.678+00:00][INFO ][savedobjects-service] [.kibana_analytics] OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT -> CHECK_TARGET_MAPPINGS. took: 36ms.
elk-kibana         | [2025-09-28T19:43:13.679+00:00][INFO ][savedobjects-service] [.kibana_analytics] CHECK_TARGET_MAPPINGS -> CHECK_VERSION_INDEX_READY_ACTIONS. took: 1ms.
elk-kibana         | [2025-09-28T19:43:13.679+00:00][INFO ][savedobjects-service] [.kibana_analytics] CHECK_VERSION_INDEX_READY_ACTIONS -> DONE. took: 0ms.
elk-kibana         | [2025-09-28T19:43:13.680+00:00][INFO ][savedobjects-service] [.kibana_analytics] Migration completed after 334ms
elk-kibana         | [2025-09-28T19:43:13.683+00:00][INFO ][savedobjects-service] [.kibana] OUTDATED_DOCUMENTS_SEARCH_CLOSE_PIT -> CHECK_TARGET_MAPPINGS. took: 19ms.
elk-kibana         | [2025-09-28T19:43:13.685+00:00][INFO ][savedobjects-service] [.kibana] CHECK_TARGET_MAPPINGS -> CHECK_VERSION_INDEX_READY_ACTIONS. took: 1ms.
elk-kibana         | [2025-09-28T19:43:13.687+00:00][INFO ][savedobjects-service] [.kibana] CHECK_VERSION_INDEX_READY_ACTIONS -> DONE. took: 3ms.
elk-kibana         | [2025-09-28T19:43:13.688+00:00][INFO ][savedobjects-service] [.kibana] Migration completed after 348ms
elk-kibana         | [2025-09-28T19:43:13.709+00:00][INFO ][plugins-system.preboot] Stopping all plugins.
elk-kibana         | [2025-09-28T19:43:13.721+00:00][INFO ][plugins-system.standard] Starting [137] plugins: [usageCollection,telemetryCollectionManager,telemetryCollectionXpack,taskManager,kibanaUsageCollection,cloud,translations,share,screenshotMode,newsfeed,savedObjectsFinder,monitoringCollection,licensing,mapsEms,globalSearch,globalSearchProviders,features,guidedOnboarding,banners,licenseApiGuard,customBranding,ftrApis,fieldFormats,expressions,screenshotting,charts,esUiShared,customIntegrations,contentManagement,dataViews,home,searchprofiler,painlessLab,management,cloudDataMigration,advancedSettings,spaces,security,telemetry,licenseManagement,snapshotRestore,lists,files,encryptedSavedObjects,eventLog,actions,notifications,grokdebugger,console,bfetch,data,watcher,savedSearch,savedObjectsTagging,savedObjectsManagement,unifiedSearch,graph,embeddable,uiActionsEnhanced,presentationUtil,expressionShape,expressionRevealImage,expressionRepeatImage,expressionMetric,expressionImage,controls,fileUpload,ingestPipelines,ecsDataQualityDashboard,dataViewFieldEditor,visualizations,visTypeXy,visTypeVislib,visTypeVega,visTypeTimeseries,visTypeTimelion,visTypeTagcloud,visTypeTable,visTypeMetric,visTypeMarkdown,visTypeHeatmap,inputControlVis,expressionTagcloud,expressionPartitionVis,visTypePie,expressionMetricVis,expressionLegacyMetricVis,expressionHeatmap,expressionGauge,visTypeGauge,eventAnnotation,expressionXY,dashboard,lens,maps,aiops,dashboardEnhanced,dataViewManagement,alerting,triggersActionsUi,transform,stackConnectors,stackAlerts,ruleRegistry,cases,timelines,sessionView,kubernetesSecurity,threatIntelligence,discover,reporting,reportingExportTypes,canvas,fleet,osquery,indexManagement,rollup,remoteClusters,crossClusterReplication,indexLifecycleManagement,cloudSecurityPosture,cloudDefend,observability,observabilityOnboarding,discoverEnhanced,dataVisualizer,ml,synthetics,securitySolution,essSecurity,infra,upgradeAssistant,monitoring,logstash,enterpriseSearch,apm,assetManager]
elk-kibana         | [2025-09-28T19:43:14.391+00:00][INFO ][plugins.fleet] Task Fleet-Usage-Sender-1.1.0 scheduled with interval 1h
elk-kibana         | [2025-09-28T19:43:14.415+00:00][INFO ][plugins.monitoring.monitoring] config sourced from: production cluster
elk-kibana         | [2025-09-28T19:43:14.466+00:00][INFO ][plugins.alerting] Installing ILM policy .alerts-ilm-policy
elk-kibana         | [2025-09-28T19:43:14.469+00:00][INFO ][plugins.alerting] Installing component template .alerts-framework-mappings
elk-kibana         | [2025-09-28T19:43:14.472+00:00][INFO ][plugins.alerting] Installing component template .alerts-legacy-alert-mappings
elk-kibana         | [2025-09-28T19:43:14.504+00:00][INFO ][plugins.alerting] Installing component template .alerts-ecs-mappings
elk-kibana         | [2025-09-28T19:43:14.520+00:00][INFO ][plugins.ruleRegistry] Installing component template .alerts-technical-mappings
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kbn-setup      | + sleep 2
elk-kibana         | [2025-09-28T19:43:16.531+00:00][INFO ][http.server.Kibana] http server running at https://0.0.0.0:5601
elk-kibana         | [2025-09-28T19:43:16.574+00:00][INFO ][plugins.fleet] Task Fleet-Usage-Logger-Task scheduled with interval 15m
elk-kibana         | [2025-09-28T19:43:16.636+00:00][INFO ][status] Kibana is now degraded
elk-kibana         | [2025-09-28T19:43:16.924+00:00][INFO ][plugins.monitoring.monitoring.kibana-monitoring] Starting monitoring stats collection
elk-kibana         | [2025-09-28T19:43:16.926+00:00][INFO ][plugins.fleet] Beginning fleet setup
elk-kibana         | [2025-09-28T19:43:16.983+00:00][INFO ][plugins.ruleRegistry] Installing ILM policy .preview.alerts-security.alerts-policy
elk-kibana         | [2025-09-28T19:43:17.048+00:00][INFO ][plugins.alerting] Installing component template .alerts-observability.slo.alerts-mappings
elk-kibana         | [2025-09-28T19:43:17.051+00:00][INFO ][plugins.alerting] Installing component template .alerts-observability.uptime.alerts-mappings
elk-kibana         | [2025-09-28T19:43:17.057+00:00][INFO ][plugins.alerting] Installing component template .alerts-security.alerts-mappings
elk-kibana         | [2025-09-28T19:43:17.059+00:00][INFO ][plugins.alerting] Installing component template .alerts-observability.logs.alerts-mappings
elk-kibana         | [2025-09-28T19:43:17.060+00:00][INFO ][plugins.alerting] Installing component template .alerts-observability.metrics.alerts-mappings
elk-kibana         | [2025-09-28T19:43:17.061+00:00][INFO ][plugins.alerting] Installing component template .alerts-observability.apm.alerts-mappings
elk-kibana         | [2025-09-28T19:43:17.071+00:00][INFO ][plugins.telemetry] Telemetry collection is enabled. For more information on telemetry settings, refer to https://www.elastic.co/guide/en/kibana/8.9/telemetry-settings-kbn.html.
elk-kibana         | [2025-09-28T19:43:17.093+00:00][INFO ][plugins.ruleRegistry] Installing component template .preview.alerts-security.alerts-mappings
elk-kibana         | [2025-09-28T19:43:17.098+00:00][INFO ][plugins.alerting] Installing index template .alerts-observability.apm.alerts-default-index-template
elk-kibana         | [2025-09-28T19:43:17.103+00:00][INFO ][plugins.alerting] Installing index template .alerts-observability.metrics.alerts-default-index-template
elk-kibana         | [2025-09-28T19:43:17.107+00:00][INFO ][plugins.alerting] Installing index template .alerts-observability.logs.alerts-default-index-template
elk-kibana         | [2025-09-28T19:43:17.111+00:00][INFO ][plugins.alerting] Installing index template .alerts-security.alerts-default-index-template
elk-kibana         | [2025-09-28T19:43:17.116+00:00][INFO ][plugins.alerting] Installing index template .alerts-observability.uptime.alerts-default-index-template
elk-kibana         | [2025-09-28T19:43:17.120+00:00][INFO ][plugins.alerting] Installing index template .alerts-observability.slo.alerts-default-index-template
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/status
elk-kibana         | [2025-09-28T19:43:17.254+00:00][INFO ][plugins.alerting] Creating concrete write index - .internal.alerts-observability.slo.alerts-default-000001
elk-kibana         | [2025-09-28T19:43:17.273+00:00][INFO ][plugins.alerting] Creating concrete write index - .internal.alerts-observability.apm.alerts-default-000001
elk-kbn-setup      | Kibana is up.
elk-kbn-setup      | + echo 'Kibana is up.'
elk-kbn-setup      | + break
elk-kbn-setup      | + DATA_VIEW_ID=ftt-logs
elk-kbn-setup      | + DATA_VIEW_TITLE='ftt-logs-json*'
elk-kbn-setup      | + DATA_VIEW_NAME='FTT Logs'
elk-kbn-setup      | + TIME_FIELD=@timestamp
elk-kbn-setup      | + echo '>> Upserting Data View '"'"'FTT Logs'"'"' (ftt-logs) -> ftt-logs-json*'
elk-kbn-setup      | + kpost /api/data_views/data_view '{
elk-kbn-setup      |   "data_view": {
elk-kbn-setup      |     "id": "ftt-logs",
elk-kbn-setup      |     "title": "ftt-logs-json*",
elk-kbn-setup      |     "timeFieldName": "@timestamp",
elk-kbn-setup      |     "name": "FTT Logs"
elk-kbn-setup      |   }
elk-kbn-setup      | }'
elk-kbn-setup      | + local 'path=/api/data_views/data_view'
elk-kbn-setup      | + shift
elk-kbn-setup      | + local 'payload={
elk-kbn-setup      |   "data_view": {
elk-kbn-setup      |     "id": "ftt-logs",
elk-kbn-setup      |     "title": "ftt-logs-json*",
elk-kbn-setup      |     "timeFieldName": "@timestamp",
elk-kbn-setup      |     "name": "FTT Logs"
elk-kbn-setup      |   }
elk-kbn-setup      | }'
elk-kbn-setup      | + curl -sS --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X POST https://kibana:5601/api/data_views/data_view -d '{
elk-kbn-setup      |   "data_view": {
elk-kbn-setup      |     "id": "ftt-logs",
elk-kbn-setup      |     "title": "ftt-logs-json*",
elk-kbn-setup      |     "timeFieldName": "@timestamp",
elk-kbn-setup      |     "name": "FTT Logs"
elk-kbn-setup      |   }
elk-kbn-setup      | }'
elk-kbn-setup      | >> Upserting Data View 'FTT Logs' (ftt-logs) -> ftt-logs-json*
elk-kibana         | [2025-09-28T19:43:17.394+00:00][INFO ][plugins.alerting] Creating concrete write index - .internal.alerts-observability.logs.alerts-default-000001
elk-kibana         | [2025-09-28T19:43:17.397+00:00][INFO ][plugins.alerting] Creating concrete write index - .internal.alerts-observability.uptime.alerts-default-000001
elk-kibana         | [2025-09-28T19:43:17.475+00:00][INFO ][plugins.alerting] Creating concrete write index - .internal.alerts-observability.metrics.alerts-default-000001
elk-kibana         | [2025-09-28T19:43:17.490+00:00][INFO ][plugins.alerting] Creating concrete write index - .internal.alerts-security.alerts-default-000001
elk-kibana         | [2025-09-28T19:43:18.049+00:00][INFO ][plugins.fleet] Fleet setup completed
elk-kibana         | [2025-09-28T19:43:18.052+00:00][INFO ][plugins.securitySolution] Dependent plugin setup complete - Starting ManifestTask
elk-kbn-setup      | >> Setting default index to 'ftt-logs'
elk-kbn-setup      | + echo '>> Setting default index to '"'"'ftt-logs'"'"
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X POST https://kibana:5601/api/kibana/settings -d '{
elk-kbn-setup      |   "changes": { "defaultIndex": "ftt-logs" }
elk-kbn-setup      | }'
elk-kibana         | [2025-09-28T19:43:18.160+00:00][INFO ][plugins.synthetics] Installed synthetics index templates
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X POST https://kibana:5601/api/data_views/data_view/ftt-logs/refresh_fields
elk-kbn-setup      | + true
elk-kbn-setup      | + curl -sS --fail --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X POST https://kibana:5601/api/index_patterns/index_pattern/ftt-logs/refresh_fields
elk-kbn-setup      | + true
elk-kbn-setup      | + + curlsed -sS --fail 's/\\\\n/\n/g' --cacert
elk-kbn-setup      |  /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X GET https://kibana:5601/api/data_views/data_view/ftt-logs
elk-kbn-setup      | + sed 's/{\"fields\"/\
elk-kbn-setup      | {\"fields\"/g'
elk-kbn-setup      | + sed 's/\\\\\"/\"/g'
elk-kbn-setup      | + grep -E '\"name\":\"(@timestamp|res\.statusCode|req\.url|responseTime)\"' -n
elk-kbn-setup      | 1:{"data_view":{"id":"ftt-logs","version":"WzUsMV0=","title":"ftt-logs-json*","timeFieldName":"@timestamp","sourceFilters":[],"fields":{"@timestamp":{"count":0,"name":"@timestamp","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"date"},"shortDotsEnable":false,"isMapped":true},"@version":{"count":0,"name":"@version","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"@version.keyword":{"count":0,"name":"@version.keyword","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"multi":{"parent":"@version"}},"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"_id":{"count":0,"name":"_id","type":"string","esTypes":["_id"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"_index":{"count":0,"name":"_index","type":"string","esTypes":["_index"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":false,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"_score":{"count":0,"name":"_score","type":"number","scripted":false,"searchable":false,"aggregatable":false,"readFromDocValues":false,"format":{"id":"number"},"shortDotsEnable":false,"isMapped":true},"_source":{"count":0,"name":"_source","type":"_source","esTypes":["_source"],"scripted":false,"searchable":false,"aggregatable":false,"readFromDocValues":false,"format":{"id":"_source"},"shortDotsEnable":false,"isMapped":true},"event.original":{"count":0,"name":"event.original","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"host.name":{"count":0,"name":"host.name","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"host.name.keyword":{"count":0,"name":"host.name.keyword","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"multi":{"parent":"host.name"}},"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"hostname":{"count":0,"name":"hostname","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"level":{"count":0,"name":"level","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"number"},"shortDotsEnable":false,"isMapped":true},"log.file.path":{"count":0,"name":"log.file.path","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"log.file.path.keyword":{"count":0,"name":"log.file.path.keyword","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"multi":{"parent":"log.file.path"}},"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"msg":{"count":0,"name":"msg","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"pid":{"count":0,"name":"pid","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"number"},"shortDotsEnable":false,"isMapped":true},"req.host":{"count":0,"name":"req.host","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"req.method":{"count":0,"name":"req.method","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"req.remoteAddress":{"count":0,"name":"req.remoteAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"req.remotePort":{"count":0,"name":"req.remotePort","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"number"},"shortDotsEnable":false,"isMapped":true},"req.url":{"count":0,"name":"req.url","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"reqId":{"count":0,"name":"reqId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"string"},"shortDotsEnable":false,"isMapped":true},"res.statusCode":{"count":0,"name":"res.statusCode","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"number"},"shortDotsEnable":false,"isMapped":true},"responseTime":{"count":0,"name":"responseTime","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"format":{"id":"number"},"shortDotsEnable":false,"isMapped":true}},"typeMeta":{},"fieldFormats":{},"runtimeFieldMap":{},"fieldAttrs":{},"allowNoIndex":false,"name":"FTT Logs","namespaces":["default"]}}
elk-kbn-setup      | + LENS1_ID=lens-requests-over-time
elk-kbn-setup      | + LENS1_TITLE='Requests over time by status'
elk-kbn-setup      | + LENS1_STATE='{
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": true, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "line",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "rt_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "splitAccessor": "status",
elk-kbn-setup      |         "seriesType": "line",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "rt_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "status", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "status": {
elk-kbn-setup      |               "label": "Top values of res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }'
elk-kbn-setup      | + LENS2_ID=lens-top-urls
elk-kbn-setup      | + LENS2_TITLE='Top 10 URLs'
elk-kbn-setup      | + LENS2_STATE='{
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "bar",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "urls_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "url",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "seriesType": "bar",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "urls_layer": {
elk-kbn-setup      |           "columnOrder": ["url", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "url": {
elk-kbn-setup      |               "label": "Top values of req.url",
elk-kbn-setup      |               "dataType": "string",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "req.url",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 10,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }'
elk-kbn-setup      | + LENS3_ID=lens-latency-p95
elk-kbn-setup      | + LENS3_TITLE='Latency p95 over time'
elk-kbn-setup      | + LENS3_STATE='{
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false },
elk-kbn-setup      |     "preferredSeriesType": "area",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "lat_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["p95"],
elk-kbn-setup      |         "seriesType": "area",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "lat_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "p95"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "p95": {
elk-kbn-setup      |               "label": "p95 of responseTime",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "percentile",
elk-kbn-setup      |               "sourceField": "responseTime",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "percentile": 95, "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }'
elk-kbn-setup      | + LENS4_ID=lens-status-pie
elk-kbn-setup      | + LENS4_TITLE='Status code share'
elk-kbn-setup      | + LENS4_STATE='{
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "shape": "donut",
elk-kbn-setup      |     "labels": { "show": true },
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "pie_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "primaryGroups": ["slice"],
elk-kbn-setup      |         "metrics": ["cnt"],
elk-kbn-setup      |         "numberDisplay": "percent"
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "pie_layer": {
elk-kbn-setup      |           "columnOrder": ["slice", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "slice": {
elk-kbn-setup      |               "label": "res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "alphabetical" },
elk-kbn-setup      |                 "orderDirection": "asc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }'
elk-kbn-setup      | + so_upsert_lens lens-requests-over-time 'Requests over time by status' lnsXY '{
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": true, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "line",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "rt_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "splitAccessor": "status",
elk-kbn-setup      |         "seriesType": "line",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "rt_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "status", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "status": {
elk-kbn-setup      |               "label": "Top values of res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }' rt_layer
elk-kbn-setup      | + local 'id=lens-requests-over-time' 'title=Requests over time by status' 'visType=lnsXY' 'state_json={
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": true, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "line",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "rt_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "splitAccessor": "status",
elk-kbn-setup      |         "seriesType": "line",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "rt_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "status", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "status": {
elk-kbn-setup      |               "label": "Top values of res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }' 'layer_id=rt_layer'
elk-kbn-setup      | + local BODY_OBJECT
elk-kbn-setup      | + cat
elk-kbn-setup      | + BODY_OBJECT='{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Requests over time by status",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": true, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "line",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "rt_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "splitAccessor": "status",
elk-kbn-setup      |         "seriesType": "line",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "rt_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "status", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "status": {
elk-kbn-setup      |               "label": "Top values of res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-rt_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + echo '>> Upserting Lens '"'"'Requests over time by status'"'"' (lens-requests-over-time) as lnsXY...'
elk-kbn-setup      | >> Upserting Lens 'Requests over time by status' (lens-requests-over-time) as lnsXY...
elk-kbn-setup      | + kpost '/api/saved_objects/lens/lens-requests-over-time?overwrite=true' '{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Requests over time by status",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": true, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "line",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "rt_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "splitAccessor": "status",
elk-kbn-setup      |         "seriesType": "line",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "rt_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "status", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "status": {
elk-kbn-setup      |               "label": "Top values of res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-rt_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + local 'path=/api/saved_objects/lens/lens-requests-over-time?overwrite=true'
elk-kbn-setup      | + shift
elk-kbn-setup      | + local 'payload={
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Requests over time by status",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": true, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "line",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "rt_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "splitAccessor": "status",
elk-kbn-setup      |         "seriesType": "line",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "rt_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "status", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "status": {
elk-kbn-setup      |               "label": "Top values of res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-rt_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + curl -sS --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X POST 'https://kibana:5601/api/saved_objects/lens/lens-requests-over-time?overwrite=true' -d '{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Requests over time by status",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": true, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "line",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "rt_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "splitAccessor": "status",
elk-kbn-setup      |         "seriesType": "line",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "rt_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "status", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "status": {
elk-kbn-setup      |               "label": "Top values of res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-rt_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kibana         | [2025-09-28T19:43:18.709+00:00][WARN ][savedobjects-service] The post saved object API /api/saved_objects/{type}/{id?} is deprecated.
elk-kibana         | [2025-09-28T19:43:19.214+00:00][INFO ][plugins.screenshotting.chromium] Browser executable: /usr/share/kibana/node_modules/@kbn/screenshotting-plugin/chromium/headless_shell-linux_x64/headless_shell
elk-kbn-setup      | + RESP='{"type":"lens","id":"lens-requests-over-time","namespaces":["default"],"attributes":{"title":"Requests over time by status","description":"","visualizationType":"lnsXY","state":{"adHocDataViews":{},"visualization":{"legend":{"isVisible":true,"position":"right"},"preferredSeriesType":"line","valueLabels":"hide","layers":[{"layerId":"rt_layer","layerType":"data","xAccessor":"ts","accessors":["cnt"],"splitAccessor":"status","seriesType":"line","position":"top","showGridlines":false}]},"query":{"language":"kuery","query":""},"filters":[],"datasourceStates":{"formBased":{"layers":{"rt_layer":{"columnOrder":["ts","status","cnt"],"columns":{"ts":{"label":"@timestamp","dataType":"date","operationType":"date_histogram","sourceField":"@timestamp","isBucketed":true,"scale":"interval","params":{"interval":"auto","includeEmptyRows":true,"dropPartials":false}},"status":{"label":"Top values of res.statusCode","dataType":"number","operationType":"terms","sourceField":"res.statusCode","isBucketed":true,"scale":"ordinal","params":{"size":5,"orderBy":{"type":"column","columnId":"cnt"},"orderDirection":"desc"}},"cnt":{"label":"Count of records","dataType":"number","operationType":"count","sourceField":"___records___","isBucketed":false,"scale":"ratio","params":{"emptyAsNull":true}}},"incompleteColumns":{},"sampling":1}}},"indexpattern":{"layers":{}},"textBased":{"layers":{}}}}},"references":[{"type":"index-pattern","id":"ftt-logs","name":"indexpattern-datasource-layer-rt_layer"}],"managed":false,"migrationVersion":{"lens":"8.9.0"},"coreMigrationVersion":"8.8.0","typeMigrationVersion":"8.9.0","updated_at":"2025-09-28T19:43:18.712Z","created_at":"2025-09-28T19:43:18.712Z","version":"WzI2LDJd"}'
elk-kbn-setup      | + printf '%s' '{"type":"lens","id":"lens-requests-over-time","namespaces":["default"],"attributes":{"title":"Requests over time by status","description":"","visualizationType":"lnsXY","state":{"adHocDataViews":{},"visualization":{"legend":{"isVisible":true,"position":"right"},"preferredSeriesType":"line","valueLabels":"hide","layers":[{"layerId":"rt_layer","layerType":"data","xAccessor":"ts","accessors":["cnt"],"splitAccessor":"status","seriesType":"line","position":"top","showGridlines":false}]},"query":{"language":"kuery","query":""},"filters":[],"datasourceStates":{"formBased":{"layers":{"rt_layer":{"columnOrder":["ts","status","cnt"],"columns":{"ts":{"label":"@timestamp","dataType":"date","operationType":"date_histogram","sourceField":"@timestamp","isBucketed":true,"scale":"interval","params":{"interval":"auto","includeEmptyRows":true,"dropPartials":false}},"status":{"label":"Top values of res.statusCode","dataType":"number","operationType":"terms","sourceField":"res.statusCode","isBucketed":true,"scale":"ordinal","params":{"size":5,"orderBy":{"type":"column","columnId":"cnt"},"orderDirection":"desc"}},"cnt":{"label":"Count of records","dataType":"number","operationType":"count","sourceField":"___records___","isBucketed":false,"scale":"ratio","params":{"emptyAsNull":true}}},"incompleteColumns":{},"sampling":1}}},"indexpattern":{"layers":{}},"textBased":{"layers":{}}}}},"references":[{"type":"index-pattern","id":"ftt-logs","name":"indexpattern-datasource-layer-rt_layer"}],"managed":false,"migrationVersion":{"lens":"8.9.0"},"coreMigrationVersion":"8.8.0","typeMigrationVersion":"8.9.0","updated_at":"2025-09-28T19:43:18.712Z","created_at":"2025-09-28T19:43:18.712Z","version":"WzI2LDJd"}'
elk-kbn-setup      | + grep -q '"statusCode":'
elk-kbn-setup      | + so_upsert_lens lens-top-urls 'Top 10 URLs' lnsXY '{
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "bar",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "urls_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "url",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "seriesType": "bar",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "urls_layer": {
elk-kbn-setup      |           "columnOrder": ["url", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "url": {
elk-kbn-setup      |               "label": "Top values of req.url",
elk-kbn-setup      |               "dataType": "string",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "req.url",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 10,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }' urls_layer
elk-kbn-setup      | + local 'id=lens-top-urls' 'title=Top 10 URLs' 'visType=lnsXY' 'state_json={
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "bar",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "urls_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "url",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "seriesType": "bar",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "urls_layer": {
elk-kbn-setup      |           "columnOrder": ["url", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "url": {
elk-kbn-setup      |               "label": "Top values of req.url",
elk-kbn-setup      |               "dataType": "string",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "req.url",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 10,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }' 'layer_id=urls_layer'
elk-kbn-setup      | + local BODY_OBJECT
elk-kbn-setup      | + cat
elk-kbn-setup      | >> Upserting Lens 'Top 10 URLs' (lens-top-urls) as lnsXY...
elk-kbn-setup      | + BODY_OBJECT='{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Top 10 URLs",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "bar",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "urls_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "url",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "seriesType": "bar",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "urls_layer": {
elk-kbn-setup      |           "columnOrder": ["url", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "url": {
elk-kbn-setup      |               "label": "Top values of req.url",
elk-kbn-setup      |               "dataType": "string",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "req.url",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 10,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-urls_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + echo '>> Upserting Lens '"'"'Top 10 URLs'"'"' (lens-top-urls) as lnsXY...'
elk-kbn-setup      | + kpost '/api/saved_objects/lens/lens-top-urls?overwrite=true' '{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Top 10 URLs",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "bar",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "urls_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "url",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "seriesType": "bar",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "urls_layer": {
elk-kbn-setup      |           "columnOrder": ["url", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "url": {
elk-kbn-setup      |               "label": "Top values of req.url",
elk-kbn-setup      |               "dataType": "string",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "req.url",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 10,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-urls_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + local 'path=/api/saved_objects/lens/lens-top-urls?overwrite=true'
elk-kbn-setup      | + shift
elk-kbn-setup      | + local 'payload={
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Top 10 URLs",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "bar",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "urls_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "url",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "seriesType": "bar",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "urls_layer": {
elk-kbn-setup      |           "columnOrder": ["url", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "url": {
elk-kbn-setup      |               "label": "Top values of req.url",
elk-kbn-setup      |               "dataType": "string",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "req.url",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 10,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-urls_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + curl -sS --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X POST 'https://kibana:5601/api/saved_objects/lens/lens-top-urls?overwrite=true' -d '{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Top 10 URLs",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false, "position": "right" },
elk-kbn-setup      |     "preferredSeriesType": "bar",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "urls_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "url",
elk-kbn-setup      |         "accessors": ["cnt"],
elk-kbn-setup      |         "seriesType": "bar",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "urls_layer": {
elk-kbn-setup      |           "columnOrder": ["url", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "url": {
elk-kbn-setup      |               "label": "Top values of req.url",
elk-kbn-setup      |               "dataType": "string",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "req.url",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 10,
elk-kbn-setup      |                 "orderBy": { "type": "column", "columnId": "cnt" },
elk-kbn-setup      |                 "orderDirection": "desc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-urls_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kibana         | [2025-09-28T19:43:19.450+00:00][WARN ][savedobjects-service] The post saved object API /api/saved_objects/{type}/{id?} is deprecated.
elk-kibana         | [2025-09-28T19:43:20.322+00:00][INFO ][status] Kibana is now available (was degraded)
elk-kbn-setup      | + RESP='{"type":"lens","id":"lens-top-urls","namespaces":["default"],"attributes":{"title":"Top 10 URLs","description":"","visualizationType":"lnsXY","state":{"adHocDataViews":{},"visualization":{"legend":{"isVisible":false,"position":"right"},"preferredSeriesType":"bar","valueLabels":"hide","layers":[{"layerId":"urls_layer","layerType":"data","xAccessor":"url","accessors":["cnt"],"seriesType":"bar","position":"top","showGridlines":false}]},"query":{"language":"kuery","query":""},"filters":[],"datasourceStates":{"formBased":{"layers":{"urls_layer":{"columnOrder":["url","cnt"],"columns":{"url":{"label":"Top values of req.url","dataType":"string","operationType":"terms","sourceField":"req.url","isBucketed":true,"scale":"ordinal","params":{"size":10,"orderBy":{"type":"column","columnId":"cnt"},"orderDirection":"desc"}},"cnt":{"label":"Count of records","dataType":"number","operationType":"count","sourceField":"___records___","isBucketed":false,"scale":"ratio","params":{"emptyAsNull":true}}},"incompleteColumns":{},"sampling":1}}},"indexpattern":{"layers":{}},"textBased":{"layers":{}}}}},"references":[{"type":"index-pattern","id":"ftt-logs","name":"indexpattern-datasource-layer-urls_layer"}],"managed":false,"migrationVersion":{"lens":"8.9.0"},"coreMigrationVersion":"8.8.0","typeMigrationVersion":"8.9.0","updated_at":"2025-09-28T19:43:19.453Z","created_at":"2025-09-28T19:43:19.453Z","version":"WzI3LDJd"}'
elk-kbn-setup      | + printf '%s' '{"type":"lens","id":"lens-top-urls","namespaces":["default"],"attributes":{"title":"Top 10 URLs","description":"","visualizationType":"lnsXY","state":{"adHocDataViews":{},"visualization":{"legend":{"isVisible":false,"position":"right"},"preferredSeriesType":"bar","valueLabels":"hide","layers":[{"layerId":"urls_layer","layerType":"data","xAccessor":"url","accessors":["cnt"],"seriesType":"bar","position":"top","showGridlines":false}]},"query":{"language":"kuery","query":""},"filters":[],"datasourceStates":{"formBased":{"layers":{"urls_layer":{"columnOrder":["url","cnt"],"columns":{"url":{"label":"Top values of req.url","dataType":"string","operationType":"terms","sourceField":"req.url","isBucketed":true,"scale":"ordinal","params":{"size":10,"orderBy":{"type":"column","columnId":"cnt"},"orderDirection":"desc"}},"cnt":{"label":"Count of records","dataType":"number","operationType":"count","sourceField":"___records___","isBucketed":false,"scale":"ratio","params":{"emptyAsNull":true}}},"incompleteColumns":{},"sampling":1}}},"indexpattern":{"layers":{}},"textBased":{"layers":{}}}}},"references":[{"type":"index-pattern","id":"ftt-logs","name":"indexpattern-datasource-layer-urls_layer"}],"managed":false,"migrationVersion":{"lens":"8.9.0"},"coreMigrationVersion":"8.8.0","typeMigrationVersion":"8.9.0","updated_at":"2025-09-28T19:43:19.453Z","created_at":"2025-09-28T19:43:19.453Z","version":"WzI3LDJd"}'
elk-kbn-setup      | + grep -q '"statusCode":'
elk-kbn-setup      | + so_upsert_lens lens-latency-p95 'Latency p95 over time' lnsXY '{
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false },
elk-kbn-setup      |     "preferredSeriesType": "area",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "lat_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["p95"],
elk-kbn-setup      |         "seriesType": "area",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "lat_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "p95"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "p95": {
elk-kbn-setup      |               "label": "p95 of responseTime",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "percentile",
elk-kbn-setup      |               "sourceField": "responseTime",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "percentile": 95, "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }' lat_layer
elk-kbn-setup      | + local 'id=lens-latency-p95' 'title=Latency p95 over time' 'visType=lnsXY' 'state_json={
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false },
elk-kbn-setup      |     "preferredSeriesType": "area",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "lat_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["p95"],
elk-kbn-setup      |         "seriesType": "area",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "lat_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "p95"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "p95": {
elk-kbn-setup      |               "label": "p95 of responseTime",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "percentile",
elk-kbn-setup      |               "sourceField": "responseTime",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "percentile": 95, "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }' 'layer_id=lat_layer'
elk-kbn-setup      | + local BODY_OBJECT
elk-kbn-setup      | + cat
elk-kbn-setup      | + BODY_OBJECT='{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Latency p95 over time",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false },
elk-kbn-setup      |     "preferredSeriesType": "area",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "lat_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["p95"],
elk-kbn-setup      |         "seriesType": "area",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "lat_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "p95"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "p95": {
elk-kbn-setup      |               "label": "p95 of responseTime",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "percentile",
elk-kbn-setup      |               "sourceField": "responseTime",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "percentile": 95, "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-lat_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + echo '>> Upserting Lens '"'"'Latency p95 over time'"'"' (lens-latency-p95) as lnsXY...'
elk-kbn-setup      | >> Upserting Lens 'Latency p95 over time' (lens-latency-p95) as lnsXY...
elk-kbn-setup      | + kpost '/api/saved_objects/lens/lens-latency-p95?overwrite=true' '{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Latency p95 over time",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false },
elk-kbn-setup      |     "preferredSeriesType": "area",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "lat_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["p95"],
elk-kbn-setup      |         "seriesType": "area",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "lat_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "p95"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "p95": {
elk-kbn-setup      |               "label": "p95 of responseTime",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "percentile",
elk-kbn-setup      |               "sourceField": "responseTime",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "percentile": 95, "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-lat_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + local 'path=/api/saved_objects/lens/lens-latency-p95?overwrite=true'
elk-kbn-setup      | + shift
elk-kbn-setup      | + local 'payload={
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Latency p95 over time",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false },
elk-kbn-setup      |     "preferredSeriesType": "area",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "lat_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["p95"],
elk-kbn-setup      |         "seriesType": "area",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "lat_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "p95"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "p95": {
elk-kbn-setup      |               "label": "p95 of responseTime",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "percentile",
elk-kbn-setup      |               "sourceField": "responseTime",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "percentile": 95, "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-lat_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + curl -sS --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X POST 'https://kibana:5601/api/saved_objects/lens/lens-latency-p95?overwrite=true' -d '{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Latency p95 over time",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsXY",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "legend": { "isVisible": false },
elk-kbn-setup      |     "preferredSeriesType": "area",
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "lat_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "xAccessor": "ts",
elk-kbn-setup      |         "accessors": ["p95"],
elk-kbn-setup      |         "seriesType": "area",
elk-kbn-setup      |         "position": "top",
elk-kbn-setup      |         "showGridlines": false
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "lat_layer": {
elk-kbn-setup      |           "columnOrder": ["ts", "p95"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "ts": {
elk-kbn-setup      |               "label": "@timestamp",
elk-kbn-setup      |               "dataType": "date",
elk-kbn-setup      |               "operationType": "date_histogram",
elk-kbn-setup      |               "sourceField": "@timestamp",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "interval",
elk-kbn-setup      |               "params": { "interval": "auto", "includeEmptyRows": true, "dropPartials": false }
elk-kbn-setup      |             },
elk-kbn-setup      |             "p95": {
elk-kbn-setup      |               "label": "p95 of responseTime",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "percentile",
elk-kbn-setup      |               "sourceField": "responseTime",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "percentile": 95, "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-lat_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kibana         | [2025-09-28T19:43:20.470+00:00][WARN ][savedobjects-service] The post saved object API /api/saved_objects/{type}/{id?} is deprecated.
elk-kbn-setup      | + RESP='{"type":"lens","id":"lens-latency-p95","namespaces":["default"],"attributes":{"title":"Latency p95 over time","description":"","visualizationType":"lnsXY","state":{"adHocDataViews":{},"visualization":{"legend":{"isVisible":false},"preferredSeriesType":"area","valueLabels":"hide","layers":[{"layerId":"lat_layer","layerType":"data","xAccessor":"ts","accessors":["p95"],"seriesType":"area","position":"top","showGridlines":false}]},"query":{"language":"kuery","query":""},"filters":[],"datasourceStates":{"formBased":{"layers":{"lat_layer":{"columnOrder":["ts","p95"],"columns":{"ts":{"label":"@timestamp","dataType":"date","operationType":"date_histogram","sourceField":"@timestamp","isBucketed":true,"scale":"interval","params":{"interval":"auto","includeEmptyRows":true,"dropPartials":false}},"p95":{"label":"p95 of responseTime","dataType":"number","operationType":"percentile","sourceField":"responseTime","isBucketed":false,"scale":"ratio","params":{"percentile":95,"emptyAsNull":true}}},"incompleteColumns":{},"sampling":1}}},"indexpattern":{"layers":{}},"textBased":{"layers":{}}}}},"references":[{"type":"index-pattern","id":"ftt-logs","name":"indexpattern-datasource-layer-lat_layer"}],"managed":false,"migrationVersion":{"lens":"8.9.0"},"coreMigrationVersion":"8.8.0","typeMigrationVersion":"8.9.0","updated_at":"2025-09-28T19:43:20.472Z","created_at":"2025-09-28T19:43:20.472Z","version":"WzI4LDJd"}'
elk-kbn-setup      | + grep -q '"statusCode":'
elk-kbn-setup      | + printf '%s' '{"type":"lens","id":"lens-latency-p95","namespaces":["default"],"attributes":{"title":"Latency p95 over time","description":"","visualizationType":"lnsXY","state":{"adHocDataViews":{},"visualization":{"legend":{"isVisible":false},"preferredSeriesType":"area","valueLabels":"hide","layers":[{"layerId":"lat_layer","layerType":"data","xAccessor":"ts","accessors":["p95"],"seriesType":"area","position":"top","showGridlines":false}]},"query":{"language":"kuery","query":""},"filters":[],"datasourceStates":{"formBased":{"layers":{"lat_layer":{"columnOrder":["ts","p95"],"columns":{"ts":{"label":"@timestamp","dataType":"date","operationType":"date_histogram","sourceField":"@timestamp","isBucketed":true,"scale":"interval","params":{"interval":"auto","includeEmptyRows":true,"dropPartials":false}},"p95":{"label":"p95 of responseTime","dataType":"number","operationType":"percentile","sourceField":"responseTime","isBucketed":false,"scale":"ratio","params":{"percentile":95,"emptyAsNull":true}}},"incompleteColumns":{},"sampling":1}}},"indexpattern":{"layers":{}},"textBased":{"layers":{}}}}},"references":[{"type":"index-pattern","id":"ftt-logs","name":"indexpattern-datasource-layer-lat_layer"}],"managed":false,"migrationVersion":{"lens":"8.9.0"},"coreMigrationVersion":"8.8.0","typeMigrationVersion":"8.9.0","updated_at":"2025-09-28T19:43:20.472Z","created_at":"2025-09-28T19:43:20.472Z","version":"WzI4LDJd"}'
elk-kbn-setup      | + so_upsert_lens lens-status-pie 'Status code share' lnsPie '{
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "shape": "donut",
elk-kbn-setup      |     "labels": { "show": true },
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "pie_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "primaryGroups": ["slice"],
elk-kbn-setup      |         "metrics": ["cnt"],
elk-kbn-setup      |         "numberDisplay": "percent"
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "pie_layer": {
elk-kbn-setup      |           "columnOrder": ["slice", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "slice": {
elk-kbn-setup      |               "label": "res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "alphabetical" },
elk-kbn-setup      |                 "orderDirection": "asc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }' pie_layer
elk-kbn-setup      | + local 'id=lens-status-pie' 'title=Status code share' 'visType=lnsPie' 'state_json={
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "shape": "donut",
elk-kbn-setup      |     "labels": { "show": true },
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "pie_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "primaryGroups": ["slice"],
elk-kbn-setup      |         "metrics": ["cnt"],
elk-kbn-setup      |         "numberDisplay": "percent"
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "pie_layer": {
elk-kbn-setup      |           "columnOrder": ["slice", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "slice": {
elk-kbn-setup      |               "label": "res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "alphabetical" },
elk-kbn-setup      |                 "orderDirection": "asc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }' 'layer_id=pie_layer'
elk-kbn-setup      | + local BODY_OBJECT
elk-kbn-setup      | + cat
elk-kbn-setup      | >> Upserting Lens 'Status code share' (lens-status-pie) as lnsPie...
elk-kbn-setup      | + BODY_OBJECT='{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Status code share",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsPie",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "shape": "donut",
elk-kbn-setup      |     "labels": { "show": true },
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "pie_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "primaryGroups": ["slice"],
elk-kbn-setup      |         "metrics": ["cnt"],
elk-kbn-setup      |         "numberDisplay": "percent"
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "pie_layer": {
elk-kbn-setup      |           "columnOrder": ["slice", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "slice": {
elk-kbn-setup      |               "label": "res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "alphabetical" },
elk-kbn-setup      |                 "orderDirection": "asc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-pie_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + echo '>> Upserting Lens '"'"'Status code share'"'"' (lens-status-pie) as lnsPie...'
elk-kbn-setup      | + kpost '/api/saved_objects/lens/lens-status-pie?overwrite=true' '{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Status code share",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsPie",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "shape": "donut",
elk-kbn-setup      |     "labels": { "show": true },
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "pie_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "primaryGroups": ["slice"],
elk-kbn-setup      |         "metrics": ["cnt"],
elk-kbn-setup      |         "numberDisplay": "percent"
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "pie_layer": {
elk-kbn-setup      |           "columnOrder": ["slice", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "slice": {
elk-kbn-setup      |               "label": "res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "alphabetical" },
elk-kbn-setup      |                 "orderDirection": "asc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-pie_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + local 'path=/api/saved_objects/lens/lens-status-pie?overwrite=true'
elk-kbn-setup      | + shift
elk-kbn-setup      | + local 'payload={
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Status code share",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsPie",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "shape": "donut",
elk-kbn-setup      |     "labels": { "show": true },
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "pie_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "primaryGroups": ["slice"],
elk-kbn-setup      |         "metrics": ["cnt"],
elk-kbn-setup      |         "numberDisplay": "percent"
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "pie_layer": {
elk-kbn-setup      |           "columnOrder": ["slice", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "slice": {
elk-kbn-setup      |               "label": "res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "alphabetical" },
elk-kbn-setup      |                 "orderDirection": "asc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-pie_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + curl -sS --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X POST 'https://kibana:5601/api/saved_objects/lens/lens-status-pie?overwrite=true' -d '{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "Status code share",
elk-kbn-setup      |     "description": "",
elk-kbn-setup      |     "visualizationType": "lnsPie",
elk-kbn-setup      |     "state": {
elk-kbn-setup      |   "adHocDataViews": {},
elk-kbn-setup      |   "visualization": {
elk-kbn-setup      |     "shape": "donut",
elk-kbn-setup      |     "labels": { "show": true },
elk-kbn-setup      |     "valueLabels": "hide",
elk-kbn-setup      |     "layers": [
elk-kbn-setup      |       {
elk-kbn-setup      |         "layerId": "pie_layer",
elk-kbn-setup      |         "layerType": "data",
elk-kbn-setup      |         "primaryGroups": ["slice"],
elk-kbn-setup      |         "metrics": ["cnt"],
elk-kbn-setup      |         "numberDisplay": "percent"
elk-kbn-setup      |       }
elk-kbn-setup      |     ]
elk-kbn-setup      |   },
elk-kbn-setup      |   "query": { "language": "kuery", "query": "" },
elk-kbn-setup      |   "filters": [],
elk-kbn-setup      |   "datasourceStates": {
elk-kbn-setup      |     "formBased": {
elk-kbn-setup      |       "layers": {
elk-kbn-setup      |         "pie_layer": {
elk-kbn-setup      |           "columnOrder": ["slice", "cnt"],
elk-kbn-setup      |           "columns": {
elk-kbn-setup      |             "slice": {
elk-kbn-setup      |               "label": "res.statusCode",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "terms",
elk-kbn-setup      |               "sourceField": "res.statusCode",
elk-kbn-setup      |               "isBucketed": true,
elk-kbn-setup      |               "scale": "ordinal",
elk-kbn-setup      |               "params": {
elk-kbn-setup      |                 "size": 5,
elk-kbn-setup      |                 "orderBy": { "type": "alphabetical" },
elk-kbn-setup      |                 "orderDirection": "asc"
elk-kbn-setup      |               }
elk-kbn-setup      |             },
elk-kbn-setup      |             "cnt": {
elk-kbn-setup      |               "label": "Count of records",
elk-kbn-setup      |               "dataType": "number",
elk-kbn-setup      |               "operationType": "count",
elk-kbn-setup      |               "sourceField": "___records___",
elk-kbn-setup      |               "isBucketed": false,
elk-kbn-setup      |               "scale": "ratio",
elk-kbn-setup      |               "params": { "emptyAsNull": true }
elk-kbn-setup      |             }
elk-kbn-setup      |           },
elk-kbn-setup      |           "incompleteColumns": {},
elk-kbn-setup      |           "sampling": 1
elk-kbn-setup      |         }
elk-kbn-setup      |       }
elk-kbn-setup      |     },
elk-kbn-setup      |     "indexpattern": { "layers": {} },
elk-kbn-setup      |     "textBased": { "layers": {} }
elk-kbn-setup      |   }
elk-kbn-setup      | }
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     { "type": "index-pattern", "id": "ftt-logs", "name": "indexpattern-datasource-layer-pie_layer" }
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kibana         | [2025-09-28T19:43:21.498+00:00][WARN ][savedobjects-service] The post saved object API /api/saved_objects/{type}/{id?} is deprecated.
elk-kbn-setup      | + RESP='{"type":"lens","id":"lens-status-pie","namespaces":["default"],"attributes":{"title":"Status code share","description":"","visualizationType":"lnsPie","state":{"adHocDataViews":{},"visualization":{"shape":"donut","labels":{"show":true},"valueLabels":"hide","layers":[{"layerId":"pie_layer","layerType":"data","primaryGroups":["slice"],"metrics":["cnt"],"numberDisplay":"percent"}]},"query":{"language":"kuery","query":""},"filters":[],"datasourceStates":{"formBased":{"layers":{"pie_layer":{"columnOrder":["slice","cnt"],"columns":{"slice":{"label":"res.statusCode","dataType":"number","operationType":"terms","sourceField":"res.statusCode","isBucketed":true,"scale":"ordinal","params":{"size":5,"orderBy":{"type":"alphabetical"},"orderDirection":"asc"}},"cnt":{"label":"Count of records","dataType":"number","operationType":"count","sourceField":"___records___","isBucketed":false,"scale":"ratio","params":{"emptyAsNull":true}}},"incompleteColumns":{},"sampling":1}}},"indexpattern":{"layers":{}},"textBased":{"layers":{}}}}},"references":[{"type":"index-pattern","id":"ftt-logs","name":"indexpattern-datasource-layer-pie_layer"}],"managed":false,"migrationVersion":{"lens":"8.9.0"},"coreMigrationVersion":"8.8.0","typeMigrationVersion":"8.9.0","updated_at":"2025-09-28T19:43:21.500Z","created_at":"2025-09-28T19:43:21.500Z","version":"WzI5LDJd"}'
elk-kbn-setup      | + printf '%s' '{"type":"lens","id":"lens-status-pie","namespaces":["default"],"attributes":{"title":"Status code share","description":"","visualizationType":"lnsPie","state":{"adHocDataViews":{},"visualization":{"shape":"donut","labels":{"show":true},"valueLabels":"hide","layers":[{"layerId":"pie_layer","layerType":"data","primaryGroups":["slice"],"metrics":["cnt"],"numberDisplay":"percent"}]},"query":{"language":"kuery","query":""},"filters":[],"datasourceStates":{"formBased":{"layers":{"pie_layer":{"columnOrder":["slice","cnt"],"columns":{"slice":{"label":"res.statusCode","dataType":"number","operationType":"terms","sourceField":"res.statusCode","isBucketed":true,"scale":"ordinal","params":{"size":5,"orderBy":{"type":"alphabetical"},"orderDirection":"asc"}},"cnt":{"label":"Count of records","dataType":"number","operationType":"count","sourceField":"___records___","isBucketed":false,"scale":"ratio","params":{"emptyAsNull":true}}},"incompleteColumns":{},"sampling":1}}},"indexpattern":{"layers":{}},"textBased":{"layers":{}}}}},"references":[{"type":"index-pattern","id":"ftt-logs","name":"indexpattern-datasource-layer-pie_layer"}],"managed":false,"migrationVersion":{"lens":"8.9.0"},"coreMigrationVersion":"8.8.0","typeMigrationVersion":"8.9.0","updated_at":"2025-09-28T19:43:21.500Z","created_at":"2025-09-28T19:43:21.500Z","version":"WzI5LDJd"}'
elk-kbn-setup      | + grep -q '"statusCode":'
elk-kbn-setup      | + DASH_ID=dashboard-ftt-overview
elk-kbn-setup      | + DASH_TITLE='FTT Logs Overview'
elk-kbn-setup      | + PANELS_JSON='[
elk-kbn-setup      |   {"panelIndex":"1","type":"lens","panelRefName":"panel_1","gridData":{"x":0,"y":0,"w":24,"h":15,"i":"1"},"embeddableConfig":{}},
elk-kbn-setup      |   {"panelIndex":"2","type":"lens","panelRefName":"panel_2","gridData":{"x":24,"y":0,"w":24,"h":15,"i":"2"},"embeddableConfig":{}},
elk-kbn-setup      |   {"panelIndex":"3","type":"lens","panelRefName":"panel_3","gridData":{"x":0,"y":15,"w":24,"h":15,"i":"3"},"embeddableConfig":{}},
elk-kbn-setup      |   {"panelIndex":"4","type":"lens","panelRefName":"panel_4","gridData":{"x":24,"y":15,"w":24,"h":15,"i":"4"},"embeddableConfig":{}}
elk-kbn-setup      | ]'
elk-kbn-setup      | + printf '%s' '[
elk-kbn-setup      |   {"panelIndex":"1","type":"lens","panelRefName":"panel_1","gridData":{"x":0,"y":0,"w":24,"h":15,"i":"1"},"embeddableConfig":{}},
elk-kbn-setup      |   {"panelIndex":"2","type":"lens","panelRefName":"panel_2","gridData":{"x":24,"y":0,"w":24,"h":15,"i":"2"},"embeddableConfig":{}},
elk-kbn-setup      |   {"panelIndex":"3","type":"lens","panelRefName":"panel_3","gridData":{"x":0,"y":15,"w":24,"h":15,"i":"3"},"embeddableConfig":{}},
elk-kbn-setup      |   {"panelIndex":"4","type":"lens","panelRefName":"panel_4","gridData":{"x":24,"y":15,"w":24,"h":15,"i":"4"},"embeddableConfig":{}}
elk-kbn-setup      | ]'
elk-kbn-setup      | + tr '\n' ' '
elk-kbn-setup      | + sed 's/\\/\\\\/g; s/"/\\"/g'
elk-kbn-setup      | >> Upserting Dashboard 'FTT Logs Overview' (dashboard-ftt-overview)...
elk-kbn-setup      | + PANELS_JSON_ESCAPED='[   {\"panelIndex\":\"1\",\"type\":\"lens\",\"panelRefName\":\"panel_1\",\"gridData\":{\"x\":0,\"y\":0,\"w\":24,\"h\":15,\"i\":\"1\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"2\",\"type\":\"lens\",\"panelRefName\":\"panel_2\",\"gridData\":{\"x\":24,\"y\":0,\"w\":24,\"h\":15,\"i\":\"2\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"3\",\"type\":\"lens\",\"panelRefName\":\"panel_3\",\"gridData\":{\"x\":0,\"y\":15,\"w\":24,\"h\":15,\"i\":\"3\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"4\",\"type\":\"lens\",\"panelRefName\":\"panel_4\",\"gridData\":{\"x\":24,\"y\":15,\"w\":24,\"h\":15,\"i\":\"4\"},\"embeddableConfig\":{}} ]'
elk-kbn-setup      | + DASH_BODY='{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "FTT Logs Overview",
elk-kbn-setup      |     "description": "Auto-created dashboard for FTT logs (alias + ILM)",
elk-kbn-setup      |     "timeRestore": true,
elk-kbn-setup      |     "timeFrom": "now-24h",
elk-kbn-setup      |     "timeTo": "now",
elk-kbn-setup      |     "refreshInterval": { "pause": false, "value": 60000 },
elk-kbn-setup      |     "optionsJSON": "{}",
elk-kbn-setup      |     "kibanaSavedObjectMeta": {
elk-kbn-setup      |       "searchSourceJSON": "{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"
elk-kbn-setup      |     },
elk-kbn-setup      |     "panelsJSON": "[   {\"panelIndex\":\"1\",\"type\":\"lens\",\"panelRefName\":\"panel_1\",\"gridData\":{\"x\":0,\"y\":0,\"w\":24,\"h\":15,\"i\":\"1\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"2\",\"type\":\"lens\",\"panelRefName\":\"panel_2\",\"gridData\":{\"x\":24,\"y\":0,\"w\":24,\"h\":15,\"i\":\"2\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"3\",\"type\":\"lens\",\"panelRefName\":\"panel_3\",\"gridData\":{\"x\":0,\"y\":15,\"w\":24,\"h\":15,\"i\":\"3\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"4\",\"type\":\"lens\",\"panelRefName\":\"panel_4\",\"gridData\":{\"x\":24,\"y\":15,\"w\":24,\"h\":15,\"i\":\"4\"},\"embeddableConfig\":{}} ]"
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     {"type":"lens","id":"lens-requests-over-time","name":"panel_1"},
elk-kbn-setup      |     {"type":"lens","id":"lens-top-urls","name":"panel_2"},
elk-kbn-setup      |     {"type":"lens","id":"lens-latency-p95","name":"panel_3"},
elk-kbn-setup      |     {"type":"lens","id":"lens-status-pie","name":"panel_4"}
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + echo '>> Upserting Dashboard '"'"'FTT Logs Overview'"'"' (dashboard-ftt-overview)...'
elk-kbn-setup      | + kpost '/api/saved_objects/dashboard/dashboard-ftt-overview?overwrite=true' '{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "FTT Logs Overview",
elk-kbn-setup      |     "description": "Auto-created dashboard for FTT logs (alias + ILM)",
elk-kbn-setup      |     "timeRestore": true,
elk-kbn-setup      |     "timeFrom": "now-24h",
elk-kbn-setup      |     "timeTo": "now",
elk-kbn-setup      |     "refreshInterval": { "pause": false, "value": 60000 },
elk-kbn-setup      |     "optionsJSON": "{}",
elk-kbn-setup      |     "kibanaSavedObjectMeta": {
elk-kbn-setup      |       "searchSourceJSON": "{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"
elk-kbn-setup      |     },
elk-kbn-setup      |     "panelsJSON": "[   {\"panelIndex\":\"1\",\"type\":\"lens\",\"panelRefName\":\"panel_1\",\"gridData\":{\"x\":0,\"y\":0,\"w\":24,\"h\":15,\"i\":\"1\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"2\",\"type\":\"lens\",\"panelRefName\":\"panel_2\",\"gridData\":{\"x\":24,\"y\":0,\"w\":24,\"h\":15,\"i\":\"2\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"3\",\"type\":\"lens\",\"panelRefName\":\"panel_3\",\"gridData\":{\"x\":0,\"y\":15,\"w\":24,\"h\":15,\"i\":\"3\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"4\",\"type\":\"lens\",\"panelRefName\":\"panel_4\",\"gridData\":{\"x\":24,\"y\":15,\"w\":24,\"h\":15,\"i\":\"4\"},\"embeddableConfig\":{}} ]"
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     {"type":"lens","id":"lens-requests-over-time","name":"panel_1"},
elk-kbn-setup      |     {"type":"lens","id":"lens-top-urls","name":"panel_2"},
elk-kbn-setup      |     {"type":"lens","id":"lens-latency-p95","name":"panel_3"},
elk-kbn-setup      |     {"type":"lens","id":"lens-status-pie","name":"panel_4"}
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + local 'path=/api/saved_objects/dashboard/dashboard-ftt-overview?overwrite=true'
elk-kbn-setup      | + shift
elk-kbn-setup      | + local 'payload={
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "FTT Logs Overview",
elk-kbn-setup      |     "description": "Auto-created dashboard for FTT logs (alias + ILM)",
elk-kbn-setup      |     "timeRestore": true,
elk-kbn-setup      |     "timeFrom": "now-24h",
elk-kbn-setup      |     "timeTo": "now",
elk-kbn-setup      |     "refreshInterval": { "pause": false, "value": 60000 },
elk-kbn-setup      |     "optionsJSON": "{}",
elk-kbn-setup      |     "kibanaSavedObjectMeta": {
elk-kbn-setup      |       "searchSourceJSON": "{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"
elk-kbn-setup      |     },
elk-kbn-setup      |     "panelsJSON": "[   {\"panelIndex\":\"1\",\"type\":\"lens\",\"panelRefName\":\"panel_1\",\"gridData\":{\"x\":0,\"y\":0,\"w\":24,\"h\":15,\"i\":\"1\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"2\",\"type\":\"lens\",\"panelRefName\":\"panel_2\",\"gridData\":{\"x\":24,\"y\":0,\"w\":24,\"h\":15,\"i\":\"2\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"3\",\"type\":\"lens\",\"panelRefName\":\"panel_3\",\"gridData\":{\"x\":0,\"y\":15,\"w\":24,\"h\":15,\"i\":\"3\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"4\",\"type\":\"lens\",\"panelRefName\":\"panel_4\",\"gridData\":{\"x\":24,\"y\":15,\"w\":24,\"h\":15,\"i\":\"4\"},\"embeddableConfig\":{}} ]"
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     {"type":"lens","id":"lens-requests-over-time","name":"panel_1"},
elk-kbn-setup      |     {"type":"lens","id":"lens-top-urls","name":"panel_2"},
elk-kbn-setup      |     {"type":"lens","id":"lens-latency-p95","name":"panel_3"},
elk-kbn-setup      |     {"type":"lens","id":"lens-status-pie","name":"panel_4"}
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kbn-setup      | + curl -sS --cacert /certs/ca/ca.crt -u elastic:1_Kibana -H kbn-xsrf:true -H Content-Type:application/json -X POST 'https://kibana:5601/api/saved_objects/dashboard/dashboard-ftt-overview?overwrite=true' -d '{
elk-kbn-setup      |   "attributes": {
elk-kbn-setup      |     "title": "FTT Logs Overview",
elk-kbn-setup      |     "description": "Auto-created dashboard for FTT logs (alias + ILM)",
elk-kbn-setup      |     "timeRestore": true,
elk-kbn-setup      |     "timeFrom": "now-24h",
elk-kbn-setup      |     "timeTo": "now",
elk-kbn-setup      |     "refreshInterval": { "pause": false, "value": 60000 },
elk-kbn-setup      |     "optionsJSON": "{}",
elk-kbn-setup      |     "kibanaSavedObjectMeta": {
elk-kbn-setup      |       "searchSourceJSON": "{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"
elk-kbn-setup      |     },
elk-kbn-setup      |     "panelsJSON": "[   {\"panelIndex\":\"1\",\"type\":\"lens\",\"panelRefName\":\"panel_1\",\"gridData\":{\"x\":0,\"y\":0,\"w\":24,\"h\":15,\"i\":\"1\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"2\",\"type\":\"lens\",\"panelRefName\":\"panel_2\",\"gridData\":{\"x\":24,\"y\":0,\"w\":24,\"h\":15,\"i\":\"2\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"3\",\"type\":\"lens\",\"panelRefName\":\"panel_3\",\"gridData\":{\"x\":0,\"y\":15,\"w\":24,\"h\":15,\"i\":\"3\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"4\",\"type\":\"lens\",\"panelRefName\":\"panel_4\",\"gridData\":{\"x\":24,\"y\":15,\"w\":24,\"h\":15,\"i\":\"4\"},\"embeddableConfig\":{}} ]"
elk-kbn-setup      |   },
elk-kbn-setup      |   "references": [
elk-kbn-setup      |     {"type":"lens","id":"lens-requests-over-time","name":"panel_1"},
elk-kbn-setup      |     {"type":"lens","id":"lens-top-urls","name":"panel_2"},
elk-kbn-setup      |     {"type":"lens","id":"lens-latency-p95","name":"panel_3"},
elk-kbn-setup      |     {"type":"lens","id":"lens-status-pie","name":"panel_4"}
elk-kbn-setup      |   ]
elk-kbn-setup      | }'
elk-kibana         | [2025-09-28T19:43:22.536+00:00][WARN ][savedobjects-service] The post saved object API /api/saved_objects/{type}/{id?} is deprecated.
elk-kbn-setup      | + RESP='{"type":"dashboard","id":"dashboard-ftt-overview","namespaces":["default"],"attributes":{"title":"FTT Logs Overview","description":"Auto-created dashboard for FTT logs (alias + ILM)","timeRestore":true,"timeFrom":"now-24h","timeTo":"now","refreshInterval":{"pause":false,"value":60000},"optionsJSON":"{}","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"},"panelsJSON":"[   {\"panelIndex\":\"1\",\"type\":\"lens\",\"panelRefName\":\"panel_1\",\"gridData\":{\"x\":0,\"y\":0,\"w\":24,\"h\":15,\"i\":\"1\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"2\",\"type\":\"lens\",\"panelRefName\":\"panel_2\",\"gridData\":{\"x\":24,\"y\":0,\"w\":24,\"h\":15,\"i\":\"2\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"3\",\"type\":\"lens\",\"panelRefName\":\"panel_3\",\"gridData\":{\"x\":0,\"y\":15,\"w\":24,\"h\":15,\"i\":\"3\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"4\",\"type\":\"lens\",\"panelRefName\":\"panel_4\",\"gridData\":{\"x\":24,\"y\":15,\"w\":24,\"h\":15,\"i\":\"4\"},\"embeddableConfig\":{}} ]"},"references":[{"type":"lens","id":"lens-requests-over-time","name":"panel_1"},{"type":"lens","id":"lens-top-urls","name":"panel_2"},{"type":"lens","id":"lens-latency-p95","name":"panel_3"},{"type":"lens","id":"lens-status-pie","name":"panel_4"}],"managed":false,"migrationVersion":{"dashboard":"8.9.0"},"coreMigrationVersion":"8.8.0","typeMigrationVersion":"8.9.0","updated_at":"2025-09-28T19:43:22.538Z","created_at":"2025-09-28T19:43:22.538Z","version":"WzMwLDJd"}'
elk-kbn-setup      | + printf '%s' '{"type":"dashboard","id":"dashboard-ftt-overview","namespaces":["default"],"attributes":{"title":"FTT Logs Overview","description":"Auto-created dashboard for FTT logs (alias + ILM)","timeRestore":true,"timeFrom":"now-24h","timeTo":"now","refreshInterval":{"pause":false,"value":60000},"optionsJSON":"{}","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"},"panelsJSON":"[   {\"panelIndex\":\"1\",\"type\":\"lens\",\"panelRefName\":\"panel_1\",\"gridData\":{\"x\":0,\"y\":0,\"w\":24,\"h\":15,\"i\":\"1\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"2\",\"type\":\"lens\",\"panelRefName\":\"panel_2\",\"gridData\":{\"x\":24,\"y\":0,\"w\":24,\"h\":15,\"i\":\"2\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"3\",\"type\":\"lens\",\"panelRefName\":\"panel_3\",\"gridData\":{\"x\":0,\"y\":15,\"w\":24,\"h\":15,\"i\":\"3\"},\"embeddableConfig\":{}},   {\"panelIndex\":\"4\",\"type\":\"lens\",\"panelRefName\":\"panel_4\",\"gridData\":{\"x\":24,\"y\":15,\"w\":24,\"h\":15,\"i\":\"4\"},\"embeddableConfig\":{}} ]"},"references":[{"type":"lens","id":"lens-requests-over-time","name":"panel_1"},{"type":"lens","id":"lens-top-urls","name":"panel_2"},{"type":"lens","id":"lens-latency-p95","name":"panel_3"},{"type":"lens","id":"lens-status-pie","name":"panel_4"}],"managed":false,"migrationVersion":{"dashboard":"8.9.0"},"coreMigrationVersion":"8.8.0","typeMigrationVersion":"8.9.0","updated_at":"2025-09-28T19:43:22.538Z","created_at":"2025-09-28T19:43:22.538Z","version":"WzMwLDJd"}'
elk-kbn-setup      | + grep -q '"statusCode":'
elk-kbn-setup      | >> Done. Open Kibana → Dashboard → 'FTT Logs Overview'.
elk-kbn-setup      | + echo '>> Done. Open Kibana → Dashboard → '"'"'FTT Logs Overview'"'"'.'
[Kelk-kbn-setup exited with code 0
elk-kibana         | [2025-09-28T19:49:59.359+00:00][INFO ][plugins.fleet] Fleet Usage: {"agents_enabled":true,"agents":{"total_enrolled":0,"healthy":0,"unhealthy":0,"offline":0,"inactive":0,"unenrolled":0,"total_all_statuses":0,"updating":0},"fleet_server":{"total_all_statuses":0,"total_enrolled":0,"healthy":0,"unhealthy":0,"offline":0,"updating":0,"num_host_urls":0}}
